<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lo poti donjon: src/engine/entities/player.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lo poti donjon
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">Le projet Ubissauphte est un jeu vidéo de type roguelike développé dans le cadre d&#39;un projet universitaire</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_2052808828190f934b76e979ee65af8a.html">engine</a></li><li class="navelem"><a class="el" href="dir_76f303675696e9020041db9c1af5c4ff.html">entities</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">player.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="player_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="player_8h.html">player.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="enemy_8h.html">enemy.h</a>&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno"><a class="line" href="player_8c.html#a81ad3e4fcd0e3686c7076cb022b61129">    5</a></span>&#160;<a class="code" href="structs__joueur.html">t_joueur</a>* <a class="code" href="player_8c.html#a81ad3e4fcd0e3686c7076cb022b61129">createPlayer</a>(<a class="code" href="structt__control.html">t_control</a>* control, SDL_Texture* texture, SDL_Rect rect, <a class="code" href="structt__tileset.html">t_tileset</a>* tileset, <span class="keywordtype">int</span> offset) {</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <a class="code" href="structs__joueur.html">t_joueur</a>* joueur = (<a class="code" href="structs__joueur.html">t_joueur</a>*)malloc(<span class="keyword">sizeof</span>(<a class="code" href="structs__joueur.html">t_joueur</a>));</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a961a80946d0f9a9fbb425ed0e0f73879">control</a> = control;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a> = <a class="code" href="object_manager_8c.html#ad54381aaf28c8563e5faafa52728a115">getObject</a>(tileset-&gt;<a class="code" href="structt__tileset.html#a2c9868664be34167c1ffd0ba47949c77">textureTiles</a>, offset);</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#aff5382dbfeddafc18d0582c032bd1f7c">displayRect</a> = rect;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a53e571e5a895ca006bf1ca38cd681ab1">flip</a> = SDL_FLIP_NONE;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afb80ffdccd1d1e4b47c52d2e6eed697e">animationController</a> = <a class="code" href="animation_8c.html#a898f3e487ffd9a824e2fa2a11c03a093">initAnimationController</a>();</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#ab32de8dafe68ef4a46819b248621598b">debug</a> = SDL_TRUE;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#ae4796e2cdb69c9093350ab151a7ef3e3">indexOffset</a> = offset;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#ae878f8bd76f99e1e7d7ee00f6345dbca">useCircleCollision</a> = SDL_TRUE;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> = rect.x + rect.w / 2;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> = rect.y + rect.h / 2;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#a5050a760c11da521cd4aee6336f6529f">radius</a> = fminf(rect.w, rect.h) / 2;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#acaca78d8d3ac42a3b6ef8aa6f3153e44">physics</a> = (<a class="code" href="structt__physics.html">t_physics</a>){.<a class="code" href="structt__physics.html#a60b0a6fd3f3f74891eb88685c7e89d4e">velocity</a> = {0, 0}, .mass = 10.0f, .friction = 0.02f, .restitution = 0.02};</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#aa1f0e0b0b5cde6070983b7210b25e0ec">currentWeapon</a> = NULL;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#ae9d8af26c1cf479c756e09a86f622c0d">aimAngle</a> = 0.0f;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a> = (<a class="code" href="structt__attack.html">t_attack</a>){.<a class="code" href="structt__attack.html#a6b273a647bfe2b739c6c4af21a8f9fc3">isActive</a> = SDL_FALSE, .progress = 0.0f, .hitBox = {{0, 0}, 0.0f, 0.0f, 0.0f}, .nbHits = 0, .timeSlowFactor = 1.0f, .timeSlowDuration = 0.0f, .timeSlowRemaining = 0.0f};</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a> = (<a class="code" href="structt__dash.html">t_dash</a>){</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        .<a class="code" href="structt__dash.html#a6b273a647bfe2b739c6c4af21a8f9fc3">isActive</a> = SDL_FALSE,</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        .duration = 150,  <span class="comment">// Durée du dash en millisecondes</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        .speedMultiplier = 8.0f,</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        .cooldownTimer = <a class="code" href="timer_8c.html#aecdaaaeb2277a6a97e620e7c19422dc2">initTimer</a>(),</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        .cooldownTime = 5000,         <span class="comment">// Cooldown de 2 secondes</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        .trailSpawnInterval = 0.01f,  <span class="comment">// Créer une traînée toutes les 20ms</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        .timeSinceLastTrail = 0};</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="player_8h.html#a466236ed26ca99fd824d7fb4899e2191">DASH_TRAIL_COUNT</a>; i++) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        joueur-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i].<a class="code" href="structt__dash.html#ac4bb71b9d8ed4dfb153501918cd6ca52">active</a> = SDL_FALSE;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        joueur-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i].<a class="code" href="structt__dash.html#a6f4dca6b48529c4d3dade0e8d46f4e43">opacity</a> = 0.0f;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="timer_8c.html#a7d157e28b7dc56888e25fb39a8da9776">startTimer</a>(joueur-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a187d446381dc0d93ab0dfc422246a76c">cooldownTimer</a>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="health_8c.html#af78dc016d45f39fbd4f2075eb603353f">initHealthSystem</a>(&amp;joueur-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>, 100);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#acf4d33ee4cff36f69b924471174dcb11">level</a> = 1;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a9554b1ce6c813b2988245ac532bf658c">xp</a> = 0;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#ad0851fd0d02bf2b14381fbf23b08b0c2">xpToNextLevel</a> = 100;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a12351b93415a5c2dd94a9cf2413d18b7">gold</a> = 0;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="animation_8c.html#a86e4f6cbeb644344e22ddf9c6f0cf3fa">addAnimation</a>(joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afb80ffdccd1d1e4b47c52d2e6eed697e">animationController</a>, <a class="code" href="animation_8c.html#aa7621b37ce4e22d8f57f39c38970a052">createAnimation</a>(tileset, (<span class="keywordtype">int</span>[]){joueur-&gt;<a class="code" href="structs__joueur.html#ae4796e2cdb69c9093350ab151a7ef3e3">indexOffset</a> + 1, joueur-&gt;<a class="code" href="structs__joueur.html#ae4796e2cdb69c9093350ab151a7ef3e3">indexOffset</a> + 2}, 2, 240, SDL_TRUE, <span class="stringliteral">&quot;idle&quot;</span>));</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="animation_8c.html#a86e4f6cbeb644344e22ddf9c6f0cf3fa">addAnimation</a>(joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afb80ffdccd1d1e4b47c52d2e6eed697e">animationController</a>, <a class="code" href="animation_8c.html#aa7621b37ce4e22d8f57f39c38970a052">createAnimation</a>(tileset, (<span class="keywordtype">int</span>[]){joueur-&gt;<a class="code" href="structs__joueur.html#ae4796e2cdb69c9093350ab151a7ef3e3">indexOffset</a> + 3, joueur-&gt;<a class="code" href="structs__joueur.html#ae4796e2cdb69c9093350ab151a7ef3e3">indexOffset</a> + 4}, 2, 240, SDL_TRUE, <span class="stringliteral">&quot;walk&quot;</span>));</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="animation_8c.html#a558f44850e43c0e5f4673279e0e58611">setAnimation</a>(joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afb80ffdccd1d1e4b47c52d2e6eed697e">animationController</a>, <span class="stringliteral">&quot;idle&quot;</span>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a3693fea77b365593f33b31fa9af5e938">particleEmitter</a> = <a class="code" href="particules_8c.html#ae582018b7ea20710f9845936d0b82cb5">createParticleEmitter</a>();</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#aacb46876904d592518623fabf006b5c2">inventaire</a> = <a class="code" href="equipements_manager_8c.html#a43fd9bc1e73271ce69490fd2600dd3d1">createInventaire</a>();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#ab4bc9e1fd9102aeaaa3b40db20af87c4">baseStats</a>.<a class="code" href="structt__stats.html#aa0551fe442ecebd0432bed6f9121808a">healthMax</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a> = 100;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#ab4bc9e1fd9102aeaaa3b40db20af87c4">baseStats</a>.<a class="code" href="structt__stats.html#aa0551fe442ecebd0432bed6f9121808a">healthMax</a>.<a class="code" href="structt__stat_modifier.html#a5284cd2d104fd82819d2a5f796790aa5">multiplicative</a> = 1;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#ab4bc9e1fd9102aeaaa3b40db20af87c4">baseStats</a>.<a class="code" href="structt__stats.html#a8cf2c73358042a1df7c0f81b938dd922">attack</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a> = 10;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#ab4bc9e1fd9102aeaaa3b40db20af87c4">baseStats</a>.<a class="code" href="structt__stats.html#a8cf2c73358042a1df7c0f81b938dd922">attack</a>.<a class="code" href="structt__stat_modifier.html#a5284cd2d104fd82819d2a5f796790aa5">multiplicative</a> = 1;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#ab4bc9e1fd9102aeaaa3b40db20af87c4">baseStats</a>.<a class="code" href="structt__stats.html#af43ec2aac2c1efbda714f834a7d0fee1">defense</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a> = 10;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#ab4bc9e1fd9102aeaaa3b40db20af87c4">baseStats</a>.<a class="code" href="structt__stats.html#af43ec2aac2c1efbda714f834a7d0fee1">defense</a>.<a class="code" href="structt__stat_modifier.html#a5284cd2d104fd82819d2a5f796790aa5">multiplicative</a> = 1;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#ab4bc9e1fd9102aeaaa3b40db20af87c4">baseStats</a>.<a class="code" href="structt__stats.html#ac7dbb58a120cdcb731b53fe170f0a859">speed</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a> = 400;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#ab4bc9e1fd9102aeaaa3b40db20af87c4">baseStats</a>.<a class="code" href="structt__stats.html#ac7dbb58a120cdcb731b53fe170f0a859">speed</a>.<a class="code" href="structt__stat_modifier.html#a5284cd2d104fd82819d2a5f796790aa5">multiplicative</a> = 1;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a0c0c22c46656774a8d05c167de8152a7">calculatedStats</a>.<a class="code" href="structt__stats.html#aa0551fe442ecebd0432bed6f9121808a">healthMax</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a> = 0;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a0c0c22c46656774a8d05c167de8152a7">calculatedStats</a>.<a class="code" href="structt__stats.html#aa0551fe442ecebd0432bed6f9121808a">healthMax</a>.<a class="code" href="structt__stat_modifier.html#a5284cd2d104fd82819d2a5f796790aa5">multiplicative</a> = 1;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a0c0c22c46656774a8d05c167de8152a7">calculatedStats</a>.<a class="code" href="structt__stats.html#a8cf2c73358042a1df7c0f81b938dd922">attack</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a> = 0;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a0c0c22c46656774a8d05c167de8152a7">calculatedStats</a>.<a class="code" href="structt__stats.html#a8cf2c73358042a1df7c0f81b938dd922">attack</a>.<a class="code" href="structt__stat_modifier.html#a5284cd2d104fd82819d2a5f796790aa5">multiplicative</a> = 1;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a0c0c22c46656774a8d05c167de8152a7">calculatedStats</a>.<a class="code" href="structt__stats.html#af43ec2aac2c1efbda714f834a7d0fee1">defense</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a> = 0;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a0c0c22c46656774a8d05c167de8152a7">calculatedStats</a>.<a class="code" href="structt__stats.html#af43ec2aac2c1efbda714f834a7d0fee1">defense</a>.<a class="code" href="structt__stat_modifier.html#a5284cd2d104fd82819d2a5f796790aa5">multiplicative</a> = 1;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a0c0c22c46656774a8d05c167de8152a7">calculatedStats</a>.<a class="code" href="structt__stats.html#ac7dbb58a120cdcb731b53fe170f0a859">speed</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a> = 0;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a0c0c22c46656774a8d05c167de8152a7">calculatedStats</a>.<a class="code" href="structt__stats.html#ac7dbb58a120cdcb731b53fe170f0a859">speed</a>.<a class="code" href="structt__stat_modifier.html#a5284cd2d104fd82819d2a5f796790aa5">multiplicative</a> = 1;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#acf4d33ee4cff36f69b924471174dcb11">level</a> = 1;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a12351b93415a5c2dd94a9cf2413d18b7">gold</a> = 0;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a9554b1ce6c813b2988245ac532bf658c">xp</a> = 0;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a01c50d3b355e07b04ab38ca39fbbeef3">equipement</a>[<a class="code" href="equipements_manager_8h.html#a948fe8a38a964870463f87c1ffebb66ba483b09cf2bdd38b012390e1b31004cda">SLOT_ARME</a>].<a class="code" href="structt__equipement_slot_type.html#ad0cc10b446f75310760d4b4e4658aa79">stack</a> = NULL;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a01c50d3b355e07b04ab38ca39fbbeef3">equipement</a>[<a class="code" href="equipements_manager_8h.html#a948fe8a38a964870463f87c1ffebb66ba0d6d4d79e9cf2da1892632b2076861ae">SLOT_ARMURE</a>].<a class="code" href="structt__equipement_slot_type.html#ad0cc10b446f75310760d4b4e4658aa79">stack</a> = NULL;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a01c50d3b355e07b04ab38ca39fbbeef3">equipement</a>[<a class="code" href="equipements_manager_8h.html#a948fe8a38a964870463f87c1ffebb66baee1ee2007f6b2ae1351b633d3fbf490a">SLOT_ACTIVABLE1</a>].<a class="code" href="structt__equipement_slot_type.html#ad0cc10b446f75310760d4b4e4658aa79">stack</a> = NULL;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a01c50d3b355e07b04ab38ca39fbbeef3">equipement</a>[<a class="code" href="equipements_manager_8h.html#a948fe8a38a964870463f87c1ffebb66ba8686ce7c9aefbd113cf3b7c7841327e1">SLOT_TALISMENT</a>].<a class="code" href="structt__equipement_slot_type.html#ad0cc10b446f75310760d4b4e4658aa79">stack</a> = NULL;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> joueur;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="player_8c.html#a68aa7bf08e883fd2ccdf5e65f3c4cc11">   94</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="player_8c.html#a68aa7bf08e883fd2ccdf5e65f3c4cc11">applyHitCameraShake</a>(<a class="code" href="structs__joueur.html">t_joueur</a>* player, <a class="code" href="structt__camera.html">t_camera</a>* camera) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a7c9ff4070feeb45b288c98437facaf44">nbHits</a> &lt;= 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// Force d&#39;impact basée sur les caractéristiques de l&#39;arme</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// Degats × Masse / 10.0f donne une valeur de base cohérente</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// Exemple: Arme (dégâts 20, masse 6) → impact_force = 12.0</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordtype">float</span> impactForce = player-&gt;<a class="code" href="structs__joueur.html#aa1f0e0b0b5cde6070983b7210b25e0ec">currentWeapon</a>-&gt;<a class="code" href="structt__arme.html#a27d5eb61a996b570f818bbf65d66edc7">damage</a> * player-&gt;<a class="code" href="structs__joueur.html#aa1f0e0b0b5cde6070983b7210b25e0ec">currentWeapon</a>-&gt;<a class="code" href="structt__arme.html#a7b2fa2b4300edd7ec1c54209a6a20258">mass</a> / 5.0f;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// Application d&#39;une courbe de puissance pour accentuer les impacts forts</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// L&#39;exposant 1.2 amplifie legerement les differences</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// 0.3f est un multiplicateur global pour ajuster l&#39;intensite</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">// Exemple: impactForce 12.0 → shakeIntensity ≈ 5.4</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordtype">float</span> shakeIntensity = 0.3f * powf(impactForce, 1.2f);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordtype">float</span> distanceFactor = 1.0f;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a1fd4766bea9f82be38a4550e8d144952">hit_distance</a> &gt; 0) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="comment">// L&#39;atténuation est linéaire avec la distance</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="comment">// Plus l&#39;ennemi est loin, moins la caméra tremble</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="comment">// La portée × 1.5 définit la distance maximale d&#39;effet</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="comment">// fmaxf garantit un minimum de 50% d&#39;intensité même pour les impacts lointains</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        distanceFactor = fmaxf(0.5f, 1.0f - (player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a1fd4766bea9f82be38a4550e8d144952">hit_distance</a> / (player-&gt;<a class="code" href="structs__joueur.html#aa1f0e0b0b5cde6070983b7210b25e0ec">currentWeapon</a>-&gt;<a class="code" href="structt__arme.html#a3930d1e8af0848833f4de0e0e9517dca">range</a> * 1.5f)));</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// Multiplicateur basé sur le nombre d&#39;ennemis touchés</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// Chaque ennemi supplémentaire ajoute 35% d&#39;intensité</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordtype">float</span> hitMultiplier = 1.0f + 0.35f * (player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a7c9ff4070feeb45b288c98437facaf44">nbHits</a> - 1);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// Durée de base = 0.3 secondes</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// Les armes lourdes produisent un tremblement plus long</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// Chaque point de masse ajoute 0.05 secondes de durée</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// Exemple: Masse 6.0 → durée = 0.3 + 6×0.05 = 0.6 secondes</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordtype">float</span> shakeDuration = 0.3f + (player-&gt;<a class="code" href="structs__joueur.html#aa1f0e0b0b5cde6070983b7210b25e0ec">currentWeapon</a>-&gt;<a class="code" href="structt__arme.html#a7b2fa2b4300edd7ec1c54209a6a20258">mass</a> * 0.05f);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// Augmentation de la durée avec le nombre d&#39;ennemis (plus modérée)</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordtype">float</span> durationMultiplier = 1.0f + 0.15f * (player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a7c9ff4070feeb45b288c98437facaf44">nbHits</a> - 1);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="camera_8c.html#aa33df647efea80a9d6ba2d01184a714d">cameraAddShake</a>(camera, shakeIntensity * distanceFactor * hitMultiplier, shakeDuration * durationMultiplier);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="player_8c.html#ad1ef56e04f9966bf30c4b7d8d494a961">  133</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="player_8c.html#ad1ef56e04f9966bf30c4b7d8d494a961">updateTimeSlowEffect</a>(<a class="code" href="structs__joueur.html">t_joueur</a>* player, <span class="keywordtype">float</span>* originalDeltaTime, <span class="keywordtype">float</span>* modifiedDeltaTime) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a595a0a9027613f5a3cc084a1b16eb0b7">timeSlowRemaining</a> &lt;= 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">// Decrementation du temps de ralentissement restant (en utilisant le temps non ralenti)</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a595a0a9027613f5a3cc084a1b16eb0b7">timeSlowRemaining</a> -= *originalDeltaTime;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// Calculer le facteur de ralentissement actuel avec une transition douce</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// Le ratio progress représente ou nous en sommes dans la durée de l&#39;effet (1.0 =&gt; 0.0)</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordtype">float</span> progress = player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a595a0a9027613f5a3cc084a1b16eb0b7">timeSlowRemaining</a> / player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a27ebc3e42dd7906192afc51396be6e15">timeSlowDuration</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">// Application d&#39;une courbe de lissage pour une transition plus naturelle</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">// Cela transforme une progression linéaire en une courbe plus belle</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordtype">float</span> smoothProgress = <a class="code" href="core_8c.html#a94ac75d81eceed79e81da71bcb7dbda7">smoothStepf</a>(progress);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// Bonus de ralentissement basé sur le nombre d&#39;ennemis touchés</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// Limité à 3 ennemis maximum pour éviter les abus</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordtype">int</span> hitCount = fminf(player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a7c9ff4070feeb45b288c98437facaf44">nbHits</a>, 3);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordtype">float</span> multiHitBonus = 0.0f;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span> (hitCount &gt; 1) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        multiHitBonus = 0.1f * (hitCount - 1);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// Facteur de ralentissement amplifié par le nombre d&#39;ennemis touchés</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordtype">float</span> baseSlowFactor = player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a9c7ea52134aad689c93d64114edb8524">timeSlowFactor</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordtype">float</span> enhancedSlowFactor = fmaxf(0.2f, baseSlowFactor - multiHitBonus);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">// Interpolation entre facteur normal (1.0) et facteur ralenti</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// Exemple: si timeSlowFactor = 0.5, on passera progressivement de 0.5 à 1.0</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordtype">float</span> currentSlowFactor = 1.0f - (1.0f - enhancedSlowFactor) * smoothProgress;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">// Application du ralentissement au deltaTime</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// Cela affecte tous les systèmes dépendant du temps qui utilisent cette valeur</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    *modifiedDeltaTime *= currentSlowFactor;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="player_8c.html#a4c5383bacbe517b6c043977ffb61c39f">  169</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="player_8c.html#a4c5383bacbe517b6c043977ffb61c39f">startAttack</a>(<a class="code" href="structs__joueur.html">t_joueur</a>* player) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (!player || !player-&gt;<a class="code" href="structs__joueur.html#aa1f0e0b0b5cde6070983b7210b25e0ec">currentWeapon</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="structt__arme.html">t_arme</a>* weapon = player-&gt;<a class="code" href="structs__joueur.html#aa1f0e0b0b5cde6070983b7210b25e0ec">currentWeapon</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a6b273a647bfe2b739c6c4af21a8f9fc3">isActive</a> = SDL_TRUE;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#ac7abb4766cd3f65c31f56279d7decff8">progress</a> = 0.0f;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a7c9ff4070feeb45b288c98437facaf44">nbHits</a> = 0;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#aca09286cd8b3d4183f0d74bad38fff6e">cooldown</a> = player-&gt;<a class="code" href="structs__joueur.html#aa1f0e0b0b5cde6070983b7210b25e0ec">currentWeapon</a>-&gt;<a class="code" href="structt__arme.html#a83f0ef4166f1a14e656990c630b53a82">attackCooldown</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// Calcul de l&#39;arc d&#39;attaque</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// On divise l&#39;angle total d&#39;attaque par 2 pour obtenir le demi-angle</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordtype">float</span> halfArc = weapon-&gt;<a class="code" href="structt__arme.html#a16e093e75a60cf5776ce5848a30a1d67">angleAttack</a> / 2.0f;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// L&#39;attaque commence a (angle visé - demi-arc) et se termine à (angle visé + demi-arc)</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// Cela crée un secteur centré sur l&#39;angle de visée du joueur</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a965b98e0334651be11fd52f4e8829b8b">hitBox</a>.<a class="code" href="structt__sector.html#a579ad9c19c810b7932838c8d469aee61">startAngle</a> = player-&gt;<a class="code" href="structs__joueur.html#ae9d8af26c1cf479c756e09a86f622c0d">aimAngle</a> - halfArc;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a965b98e0334651be11fd52f4e8829b8b">hitBox</a>.<a class="code" href="structt__sector.html#a13e9b6cb8d65d6b5e97cc95e4f7048e1">endAngle</a> = player-&gt;<a class="code" href="structs__joueur.html#ae9d8af26c1cf479c756e09a86f622c0d">aimAngle</a> + halfArc;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a965b98e0334651be11fd52f4e8829b8b">hitBox</a>.<a class="code" href="structt__sector.html#a5050a760c11da521cd4aee6336f6529f">radius</a> = weapon-&gt;<a class="code" href="structt__arme.html#a3930d1e8af0848833f4de0e0e9517dca">range</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a965b98e0334651be11fd52f4e8829b8b">hitBox</a>.<a class="code" href="structt__sector.html#adde45d912201d38423e638a92057e10b">origin</a> = (SDL_FPoint){player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>, player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a>};</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="player_8c.html#aea2580dd56e7113d24936f6b09a66192">  191</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="player_8c.html#aea2580dd56e7113d24936f6b09a66192">updateAttack</a>(<a class="code" href="structs__joueur.html">t_joueur</a>* player, <span class="keywordtype">float</span>* deltaTime, <a class="code" href="structt__object_manager.html">t_objectManager</a>* entities, <a class="code" href="structt__context.html">t_context</a>* context) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (!player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a6b273a647bfe2b739c6c4af21a8f9fc3">isActive</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="structt__arme.html">t_arme</a>* weapon = player-&gt;<a class="code" href="structs__joueur.html#aa1f0e0b0b5cde6070983b7210b25e0ec">currentWeapon</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// Mise a jour de la progression de l&#39;attaque (0.0 à 1.0)</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// Vitesse de progression determiné par la durée d&#39;attaque de l&#39;arme</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#ac7abb4766cd3f65c31f56279d7decff8">progress</a> += *deltaTime / weapon-&gt;<a class="code" href="structt__arme.html#a4d014b2489270be302d1e8849f37db67">attackDuration</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// L&#39;origine de l&#39;attaque suit la position du joueur (permet d&#39;attaquer en mouvement)</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a965b98e0334651be11fd52f4e8829b8b">hitBox</a>.<a class="code" href="structt__sector.html#adde45d912201d38423e638a92057e10b">origin</a> = (SDL_FPoint){player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>, player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a>};</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// Calcul de l&#39;angle actuel de l&#39;attaque par interpolation</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// On utilise smoothStepf pour une progression plus naturelle (accélération/décélération)</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordtype">float</span> currentAngle = <a class="code" href="core_8c.html#af285790c31a2afabd9332560b8249f5e">lerpAngle</a>(player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a965b98e0334651be11fd52f4e8829b8b">hitBox</a>.<a class="code" href="structt__sector.html#a579ad9c19c810b7932838c8d469aee61">startAngle</a>, player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a965b98e0334651be11fd52f4e8829b8b">hitBox</a>.<a class="code" href="structt__sector.html#a13e9b6cb8d65d6b5e97cc95e4f7048e1">endAngle</a>, <a class="code" href="core_8c.html#a94ac75d81eceed79e81da71bcb7dbda7">smoothStepf</a>(player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#ac7abb4766cd3f65c31f56279d7decff8">progress</a>));</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordtype">int</span> previousHits = player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a7c9ff4070feeb45b288c98437facaf44">nbHits</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; entities-&gt;count; i++) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="object_manager_8c.html#aead2248cbf6dfb86e2b89f07c1bf51ac">getObjectTypeId</a>(entities, i) != <a class="code" href="object_manager_8c.html#aba826a5b8e7b3641e82577bfc3542041">getTypeIdByName</a>(entities-&gt;registry, <span class="stringliteral">&quot;ENEMY&quot;</span>)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <a class="code" href="structs__entity.html">t_entity</a>* enemy = <a class="code" href="object_manager_8c.html#ad54381aaf28c8563e5faafa52728a115">getObject</a>(entities, i);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="comment">// Ignorer les entités nulles ou les ennemis déjà morts</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">if</span> (!enemy || ((<a class="code" href="structt__enemy.html">t_enemy</a>*)enemy)-&gt;health.isDead) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        SDL_FPoint enemyPos = {enemy-&gt;<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>, enemy-&gt;<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a>};</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="comment">// Vérification si l&#39;ennemi est dans le secteur d&#39;attaque actuel</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="physics_8c.html#a7bdb858968c7b571e6577d1a30af9888">cercleInSector</a>(enemyPos, enemy-&gt;<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#a5050a760c11da521cd4aee6336f6529f">radius</a>, player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a965b98e0334651be11fd52f4e8829b8b">hitBox</a>.<a class="code" href="structt__sector.html#adde45d912201d38423e638a92057e10b">origin</a>, currentAngle, weapon-&gt;<a class="code" href="structt__arme.html#a3930d1e8af0848833f4de0e0e9517dca">range</a>, weapon-&gt;<a class="code" href="structt__arme.html#a16e093e75a60cf5776ce5848a30a1d67">angleAttack</a>)) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="comment">// Vecteur direction depuis l&#39;origine de l&#39;attaque vers l&#39;ennemi</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="keywordtype">float</span> dx = enemyPos.x - player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a965b98e0334651be11fd52f4e8829b8b">hitBox</a>.<a class="code" href="structt__sector.html#adde45d912201d38423e638a92057e10b">origin</a>.x;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="keywordtype">float</span> dy = enemyPos.y - player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a965b98e0334651be11fd52f4e8829b8b">hitBox</a>.<a class="code" href="structt__sector.html#adde45d912201d38423e638a92057e10b">origin</a>.y;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="comment">// Normalisation du vecteur direction (pour obtenir un vecteur unitaire)</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordtype">float</span> length = sqrtf(dx * dx + dy * dy);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">if</span> (length &gt; 0) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                dx /= length;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                dy /= length;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                <a class="code" href="enemy_8c.html#ae756d207dddebceef48dfd1ad481cf4e">takeDamageFromPlayer</a>((<a class="code" href="structt__enemy.html">t_enemy</a>*)enemy, weapon-&gt;<a class="code" href="structt__arme.html#a27d5eb61a996b570f818bbf65d66edc7">damage</a> + player-&gt;<a class="code" href="structs__joueur.html#a0c0c22c46656774a8d05c167de8152a7">calculatedStats</a>.<a class="code" href="structt__stats.html#a8cf2c73358042a1df7c0f81b938dd922">attack</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a>, player, context, (SDL_FPoint){dx, dy});</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                <span class="comment">// Force de base du recul : 750.0f = multiplicateur de base pour une sensation de jeu satisfaisante</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="comment">// Plus l&#39;arme est lourde, plus le recul est puissant : Exemple: masse 2.0 → knockbackBase = 1500</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="keywordtype">float</span> knockbackBase = weapon-&gt;<a class="code" href="structt__arme.html#a7b2fa2b4300edd7ec1c54209a6a20258">mass</a> * 750.0f;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="comment">// Rapport de masse: Arme / Ennemi</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="comment">// Plus ce ratio est eleve, plus l&#39;ennemi sera projete loin</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="comment">// L&#39;addition de 0.5f au dénominateur attenue les rapports extrêmes</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="comment">// Exemple: Arme de masse 3.0 contre ennemi de masse 1.0 → ratio = 2.0</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                <span class="keywordtype">float</span> ratioMass = weapon-&gt;<a class="code" href="structt__arme.html#a7b2fa2b4300edd7ec1c54209a6a20258">mass</a> / (enemy-&gt;physics.mass + 0.5f);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="comment">// Application d&#39;une courbe de puissance pour un effet plus réaliste</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <span class="comment">// L&#39;exposant 0.7 réduit les différences extreme entre armes légères et lourdes</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="comment">// Exemple: ratio 2.0 → powerCurve = 2.0^0.7 ≈ 1.62</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <span class="keywordtype">float</span> powerCurve = powf(ratioMass, 0.7f);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="comment">// Application de limites pour garantir un équilibre:</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <span class="comment">// - Minimum: 12% de la force de base (même contre des ennemis très lourds)</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                <span class="comment">// - Maximum: 450% de la force de base (même contre des ennemis très légers)</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                <span class="keywordtype">float</span> knockbackEfficace = knockbackBase * (0.15f + 0.85f * powerCurve);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                knockbackEfficace = fmaxf(knockbackEfficace, knockbackBase * 0.12f);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                knockbackEfficace = fminf(knockbackEfficace, knockbackBase * 4.5f);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="comment">// Application de la force avec prise en compte du deltaTime</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="comment">// Cela garantit une force constante indépendamment du framerate</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <span class="comment">// Exemple: knockbackEfficace 2295 × deltaTime 0.016 ≈ 36.72 unités de force</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="keywordtype">float</span> forceKnockback = knockbackEfficace * (*deltaTime);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                enemy-&gt;physics.velocity.x += dx * forceKnockback;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                enemy-&gt;physics.velocity.y += dy * forceKnockback;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a7c9ff4070feeb45b288c98437facaf44">nbHits</a>++;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a7c9ff4070feeb45b288c98437facaf44">nbHits</a> &gt; previousHits) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="comment">// Normalisation du facteur de poids de l&#39;arme</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="comment">// 5.0f représente une masse moyenne/référence</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="comment">// Exemple: Arme masse 8.0 → facteurMass = 1.6 (60% plus lourde que la moyenne)</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordtype">float</span> facteurMass = weapon-&gt;<a class="code" href="structt__arme.html#a7b2fa2b4300edd7ec1c54209a6a20258">mass</a> / 5.0f;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="comment">// Calcul du facteur de ralentissement temporel (entre 0.4 et 0.75)</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="comment">// - 0.4 = temps ralenti à 40% de sa vitesse normale (ralentissement intense)</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="comment">// - 0.75 = temps ralenti à 75% de sa vitesse normale (ralentissement léger)</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="comment">// Les armes lourdes ralentissent davantage le temps</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="comment">// Exemple: facteurMass 1.6 → timeSlowFactor = max(0.4, 0.75 - 1.6×0.1) = max(0.4, 0.59) = 0.59</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a9c7ea52134aad689c93d64114edb8524">timeSlowFactor</a> = fmaxf(0.4f, 0.75f - (facteurMass * 0.1f));</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="comment">// Calcul de la durée du ralentissement (en secondes)</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="comment">// Les armes légères produisent un ralentissement plus long</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="comment">// Formule: 0.15s (base) + 0.3s/facteurMass (bonus inversement proportionnel)</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="comment">// Exemple: facteurMass 1.6 → durée = 0.15 + 0.3/1.6 ≈ 0.34 secondes</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a27ebc3e42dd7906192afc51396be6e15">timeSlowDuration</a> = fminf(0.15f + (0.3f / facteurMass), 0.35f);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a595a0a9027613f5a3cc084a1b16eb0b7">timeSlowRemaining</a> = player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a27ebc3e42dd7906192afc51396be6e15">timeSlowDuration</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#ac7abb4766cd3f65c31f56279d7decff8">progress</a> &gt;= 1.0f) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a6b273a647bfe2b739c6c4af21a8f9fc3">isActive</a> = SDL_FALSE;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="player_8c.html#ad58c8df82ef4cd3b925aa17cd808b28f">  293</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="player_8c.html#ad58c8df82ef4cd3b925aa17cd808b28f">handleInputPlayer</a>(<a class="code" href="structt__input.html">t_input</a>* input, <a class="code" href="structs__joueur.html">t_joueur</a>* player, <a class="code" href="structs__grid.html">t_grid</a>* grid, <a class="code" href="structt__view_port.html">t_viewPort</a>* vp, <span class="keywordtype">float</span>* deltaTime, <a class="code" href="structt__scene_controller.html">t_sceneController</a>* sceneController) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordtype">float</span> forceBase = player-&gt;<a class="code" href="structs__joueur.html#a0c0c22c46656774a8d05c167de8152a7">calculatedStats</a>.<a class="code" href="structt__stats.html#ac7dbb58a120cdcb731b53fe170f0a859">speed</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a>;  <span class="comment">// Force de déplacement standard</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">float</span> forceSprint = forceBase * 1.5f;                      <span class="comment">// Force quand on court (x1.5f)</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordtype">float</span> forceDash = forceBase * 3.5f;                        <span class="comment">// Force du dash (x3.5f)</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// printf(&quot;%d \n&quot;, player-&gt;calculatedStats.speed.additive);</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">//  Force utilisee (course ou marche normale)</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">float</span> force = input-&gt;<a class="code" href="structt__input.html#ac39ae970d4cf3c53c516a6b70c013abd">key</a>[SDL_SCANCODE_LSHIFT] ? forceSprint : forceBase;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordtype">float</span> lastDirX = 0.0f;     <span class="comment">// Derniere direction horizontale</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordtype">float</span> lastDirY = 0.0f;     <span class="comment">// Derniere direction verticale</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">float</span> currentDirX = 0.0f;  <span class="comment">// Direction horizontale actuelle</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordtype">float</span> currentDirY = 0.0f;  <span class="comment">// Direction verticale actuelle</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// gauche: -1 en X, 0  en Y</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="comment">// droite:  1 en X, 0  en Y</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">// haut:    0 en X, -1 en Y</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// bas:     0 en X, 1  en Y</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordtype">int</span> directions[4][3] = {{player-&gt;<a class="code" href="structs__joueur.html#a961a80946d0f9a9fbb425ed0e0f73879">control</a>-&gt;<a class="code" href="structt__control.html#ad3da6ac33ecf340b0931948842e723b6">left</a>, -1, 0}, {player-&gt;<a class="code" href="structs__joueur.html#a961a80946d0f9a9fbb425ed0e0f73879">control</a>-&gt;<a class="code" href="structt__control.html#abae87f422e3790f1f57cfb0a47b4ccd4">right</a>, 1, 0}, {player-&gt;<a class="code" href="structs__joueur.html#a961a80946d0f9a9fbb425ed0e0f73879">control</a>-&gt;<a class="code" href="structt__control.html#a5e5a1d8015bc52311a77f082abfbe044">up</a>, 0, -1}, {player-&gt;<a class="code" href="structs__joueur.html#a961a80946d0f9a9fbb425ed0e0f73879">control</a>-&gt;<a class="code" href="structt__control.html#a0ef5e67f26b698bd87b8e3348f927133">down</a>, 0, 1}};</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; i++) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">if</span> (input-&gt;<a class="code" href="structt__input.html#ac39ae970d4cf3c53c516a6b70c013abd">key</a>[directions[i][0]]) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#acaca78d8d3ac42a3b6ef8aa6f3153e44">physics</a>.<a class="code" href="structt__physics.html#a60b0a6fd3f3f74891eb88685c7e89d4e">velocity</a>.x += directions[i][1] * force * *deltaTime;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#acaca78d8d3ac42a3b6ef8aa6f3153e44">physics</a>.<a class="code" href="structt__physics.html#a60b0a6fd3f3f74891eb88685c7e89d4e">velocity</a>.y += directions[i][2] * force * *deltaTime;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordflow">if</span> (directions[i][1] != 0) currentDirX = (float)directions[i][1];</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordflow">if</span> (directions[i][2] != 0) currentDirY = (float)directions[i][2];</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">// Si le joueur se deplace, on memorise sa direction actuelle</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">if</span> (currentDirX != 0.0f || currentDirY != 0.0f) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        lastDirX = currentDirX;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        lastDirY = currentDirY;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="comment">// Normalisation du vecteur de direction pour les mouvements diagonaux</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="comment">// (evite que le deplacement en diagonale soit plus rapide)</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordtype">float</span> length = sqrtf(lastDirX * lastDirX + lastDirY * lastDirY);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">if</span> (length &gt; 0.0f) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            lastDirX /= length;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            lastDirY /= length;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#a5dbfa0b962c1dde73b323300bc05034c">keyPressOnce</a>(input, SDL_SCANCODE_N)) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="health_8c.html#a99890adcfd69b9d90a178d967a70f347">applyDamage</a>(&amp;player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>, 10, &amp;player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>, NULL);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span> ((strcmp(((<a class="code" href="structt__scene.html">t_scene</a>*)<a class="code" href="object_manager_8c.html#ad54381aaf28c8563e5faafa52728a115">getObject</a>(sceneController-&gt;<a class="code" href="structt__scene_controller.html#a22005c9db504a7ad994bde4761133d70">scene</a>, sceneController-&gt;<a class="code" href="structt__scene_controller.html#ab5d749becb5ee7c3493c35c1dbe4e9d5">currentScene</a>))-&gt;name, <span class="stringliteral">&quot;main&quot;</span>) == 0) &amp;&amp; input-&gt;<a class="code" href="structt__input.html#ac39ae970d4cf3c53c516a6b70c013abd">key</a>[player-&gt;<a class="code" href="structs__joueur.html#a961a80946d0f9a9fbb425ed0e0f73879">control</a>-&gt;<a class="code" href="structt__control.html#a597eee70216696243fb8a3838b060acb">escape</a>]) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        sceneController-&gt;<a class="code" href="structt__scene_controller.html#a82732129fbf528166c02577c695a58aa">lastMap</a> = <a class="code" href="object_manager_8c.html#ad54381aaf28c8563e5faafa52728a115">getObject</a>(sceneController-&gt;<a class="code" href="structt__scene_controller.html#a22005c9db504a7ad994bde4761133d70">scene</a>, sceneController-&gt;<a class="code" href="structt__scene_controller.html#ab5d749becb5ee7c3493c35c1dbe4e9d5">currentScene</a>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="fscene_8c.html#a41cb33c742203a83f3b38ad344168917">setScene</a>(sceneController, <span class="stringliteral">&quot;retourOption&quot;</span>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span> (input-&gt;<a class="code" href="structt__input.html#ac39ae970d4cf3c53c516a6b70c013abd">key</a>[player-&gt;<a class="code" href="structs__joueur.html#a961a80946d0f9a9fbb425ed0e0f73879">control</a>-&gt;<a class="code" href="structt__control.html#ae78b5fd1c7fc2d85078525aa5f1a3bc1">map</a>]) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        sceneController-&gt;<a class="code" href="structt__scene_controller.html#a82732129fbf528166c02577c695a58aa">lastMap</a> = <a class="code" href="object_manager_8c.html#ad54381aaf28c8563e5faafa52728a115">getObject</a>(sceneController-&gt;<a class="code" href="structt__scene_controller.html#a22005c9db504a7ad994bde4761133d70">scene</a>, sceneController-&gt;<a class="code" href="structt__scene_controller.html#ab5d749becb5ee7c3493c35c1dbe4e9d5">currentScene</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <a class="code" href="fscene_8c.html#a41cb33c742203a83f3b38ad344168917">setScene</a>(sceneController, <span class="stringliteral">&quot;carte&quot;</span>);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        input-&gt;<a class="code" href="structt__input.html#ac39ae970d4cf3c53c516a6b70c013abd">key</a>[player-&gt;<a class="code" href="structs__joueur.html#a961a80946d0f9a9fbb425ed0e0f73879">control</a>-&gt;<a class="code" href="structt__control.html#ae78b5fd1c7fc2d85078525aa5f1a3bc1">map</a>] = SDL_FALSE;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span> (input-&gt;<a class="code" href="structt__input.html#ac39ae970d4cf3c53c516a6b70c013abd">key</a>[player-&gt;<a class="code" href="structs__joueur.html#a961a80946d0f9a9fbb425ed0e0f73879">control</a>-&gt;<a class="code" href="structt__control.html#a6df204f5a7c84d6c1b78e67971e6c1a7">inventaire</a>]) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        sceneController-&gt;<a class="code" href="structt__scene_controller.html#a82732129fbf528166c02577c695a58aa">lastMap</a> = <a class="code" href="object_manager_8c.html#ad54381aaf28c8563e5faafa52728a115">getObject</a>(sceneController-&gt;<a class="code" href="structt__scene_controller.html#a22005c9db504a7ad994bde4761133d70">scene</a>, sceneController-&gt;<a class="code" href="structt__scene_controller.html#ab5d749becb5ee7c3493c35c1dbe4e9d5">currentScene</a>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="fscene_8c.html#a41cb33c742203a83f3b38ad344168917">setScene</a>(sceneController, <span class="stringliteral">&quot;mainInv&quot;</span>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        input-&gt;<a class="code" href="structt__input.html#ac39ae970d4cf3c53c516a6b70c013abd">key</a>[player-&gt;<a class="code" href="structs__joueur.html#a961a80946d0f9a9fbb425ed0e0f73879">control</a>-&gt;<a class="code" href="structt__control.html#a6df204f5a7c84d6c1b78e67971e6c1a7">inventaire</a>] = SDL_FALSE;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordtype">float</span> mouseWorldX = 0.0f, mouseWorldY = 0.0f;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="camera_8c.html#aa565fc417430314cb021ebd9b85e74bc">convertMouseToWorld</a>(vp, input-&gt;<a class="code" href="structt__input.html#a85ea1b63086b31a15d3ed2579c5715a6">mouseX</a>, input-&gt;<a class="code" href="structt__input.html#a3637abebcaa9d04aa18b1610d0921e16">mouseY</a>, &amp;mouseWorldX, &amp;mouseWorldY);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// Calcul du vecteur joueur -&gt; souris</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordtype">float</span> dx = mouseWorldX - player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordtype">float</span> dy = mouseWorldY - player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// Calcul de l&#39;angle de visée (en radians)</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">// atan2f nous donne l&#39;angle du vecteur (dx,dy) par rapport a l&#39;axe x</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#ae9d8af26c1cf479c756e09a86f622c0d">aimAngle</a> = atan2f(dy, dx);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">// Orientation du sprite en fonction de l&#39;angle de visee</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// Si le joueur regarde vers la gauche (cosinus negatif), on retourne le sprite</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">// cosf(angle) &lt; 0 signifie que l&#39;angle est entre pi/2 et 3pi/2 (donc côte gauche)</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> (cosf(player-&gt;<a class="code" href="structs__joueur.html#ae9d8af26c1cf479c756e09a86f622c0d">aimAngle</a>) &lt; 0) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a53e571e5a895ca006bf1ca38cd681ab1">flip</a> = SDL_FLIP_HORIZONTAL;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a53e571e5a895ca006bf1ca38cd681ab1">flip</a> = SDL_FLIP_NONE;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (input-&gt;<a class="code" href="structt__input.html#ac39ae970d4cf3c53c516a6b70c013abd">key</a>[player-&gt;<a class="code" href="structs__joueur.html#a961a80946d0f9a9fbb425ed0e0f73879">control</a>-&gt;<a class="code" href="structt__control.html#a91131251072497dcfaf60be182e70b74">dash</a>] &amp;&amp; !player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a6b273a647bfe2b739c6c4af21a8f9fc3">isActive</a> &amp;&amp; <a class="code" href="timer_8c.html#a425192221cbecd593f3a398c14c18def">getTicks</a>(player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a187d446381dc0d93ab0dfc422246a76c">cooldownTimer</a>) &gt;= player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a55ed7f059096d0b2bee27fea09c7b9c2">cooldownTime</a>) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a6b273a647bfe2b739c6c4af21a8f9fc3">isActive</a> = SDL_TRUE;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="timer_8c.html#a7d157e28b7dc56888e25fb39a8da9776">startTimer</a>(player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a187d446381dc0d93ab0dfc422246a76c">cooldownTimer</a>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="player_8h.html#a466236ed26ca99fd824d7fb4899e2191">DASH_TRAIL_COUNT</a>; i++) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i].<a class="code" href="structt__dash.html#ac4bb71b9d8ed4dfb153501918cd6ca52">active</a> = SDL_FALSE;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i].<a class="code" href="structt__dash.html#a6f4dca6b48529c4d3dade0e8d46f4e43">opacity</a> = 0.0f;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a7f45e916d4fd291aaaa8a1423e88a68b">timeSinceLastTrail</a> = player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a52ef600ecb6e1c2cbbc51a1311197fb4">trailSpawnInterval</a>;  <span class="comment">// Force la capture immédiate</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="comment">// Ajouter un petit boost initial pour que le dash démarre plus vite</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#acaca78d8d3ac42a3b6ef8aa6f3153e44">physics</a>.<a class="code" href="structt__physics.html#a60b0a6fd3f3f74891eb88685c7e89d4e">velocity</a>.x += lastDirX * forceDash * 0.5f * (*deltaTime);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#acaca78d8d3ac42a3b6ef8aa6f3153e44">physics</a>.<a class="code" href="structt__physics.html#a60b0a6fd3f3f74891eb88685c7e89d4e">velocity</a>.y += lastDirY * forceDash * 0.5f * (*deltaTime);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="comment">// Réduire temporairement la friction pour un dash fluide</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#acaca78d8d3ac42a3b6ef8aa6f3153e44">physics</a>.<a class="code" href="structt__physics.html#a585bd15db005143bac988d78710e4e93">friction</a> *= 0.5f;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a6b273a647bfe2b739c6c4af21a8f9fc3">isActive</a>) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="comment">// Accélération progressive au début du dash</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordtype">float</span> dashProgress = 1.0f - (player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a66625d8d6c0894b4828b43f826a09b8f">duration</a> / 150.0f);  <span class="comment">// 0 au début, 1 à la fin</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordtype">float</span> dashFactor = 0.8f + 0.4f * sinf(dashProgress * <a class="code" href="core_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>);    <span class="comment">// Courbe en cloche (accélération puis décélération)</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#acaca78d8d3ac42a3b6ef8aa6f3153e44">physics</a>.<a class="code" href="structt__physics.html#a60b0a6fd3f3f74891eb88685c7e89d4e">velocity</a>.x += lastDirX * player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a7bfff822afd624221c15fdbc9790f595">speedMultiplier</a> * forceBase * dashFactor * (*deltaTime);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#acaca78d8d3ac42a3b6ef8aa6f3153e44">physics</a>.<a class="code" href="structt__physics.html#a60b0a6fd3f3f74891eb88685c7e89d4e">velocity</a>.y += lastDirY * player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a7bfff822afd624221c15fdbc9790f595">speedMultiplier</a> * forceBase * dashFactor * (*deltaTime);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a66625d8d6c0894b4828b43f826a09b8f">duration</a> -= *deltaTime * 1000;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a66625d8d6c0894b4828b43f826a09b8f">duration</a> &lt;= 0.0f) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a6b273a647bfe2b739c6c4af21a8f9fc3">isActive</a> = SDL_FALSE;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a66625d8d6c0894b4828b43f826a09b8f">duration</a> = 150;              <span class="comment">// Réinitialiser la durée</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#acaca78d8d3ac42a3b6ef8aa6f3153e44">physics</a>.<a class="code" href="structt__physics.html#a585bd15db005143bac988d78710e4e93">friction</a> *= 2.0f;  <span class="comment">// Restaurer la friction normale</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">// Attaque</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">if</span> (input-&gt;<a class="code" href="structt__input.html#a9a94d2a981b6ff871ec8082f6acb2704">mouseButtons</a>[SDL_BUTTON_LEFT] &amp;&amp; player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#aca09286cd8b3d4183f0d74bad38fff6e">cooldown</a> &lt;= 0) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="player_8c.html#a4c5383bacbe517b6c043977ffb61c39f">startAttack</a>(player);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">// Si le joueur est en mouvement, on utilise l&#39;animation de marche, sinon, on utilise l&#39;animation d&#39;idle</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#acaca78d8d3ac42a3b6ef8aa6f3153e44">physics</a>.<a class="code" href="structt__physics.html#a60b0a6fd3f3f74891eb88685c7e89d4e">velocity</a>.x &gt;= <a class="code" href="core_8h.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a> || player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#acaca78d8d3ac42a3b6ef8aa6f3153e44">physics</a>.<a class="code" href="structt__physics.html#a60b0a6fd3f3f74891eb88685c7e89d4e">velocity</a>.y &gt;= <a class="code" href="core_8h.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <a class="code" href="animation_8c.html#a558f44850e43c0e5f4673279e0e58611">setAnimation</a>(player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afb80ffdccd1d1e4b47c52d2e6eed697e">animationController</a>, <span class="stringliteral">&quot;walk&quot;</span>);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <a class="code" href="animation_8c.html#a558f44850e43c0e5f4673279e0e58611">setAnimation</a>(player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afb80ffdccd1d1e4b47c52d2e6eed697e">animationController</a>, <span class="stringliteral">&quot;idle&quot;</span>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="player_8c.html#a19c9b26bd5ea417615cd19e9ce4c46f4">  424</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="player_8c.html#a19c9b26bd5ea417615cd19e9ce4c46f4">updatePlayer</a>(<a class="code" href="structs__joueur.html">t_joueur</a>* player, <span class="keywordtype">float</span>* deltaTime, <a class="code" href="structt__salle.html">t_salle</a>* salle, <a class="code" href="structt__object_manager.html">t_objectManager</a>* entities, <a class="code" href="structt__context.html">t_context</a>* context) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// On conserve le deltaTime original pour certains calculs qui ne doivent pas être affecté par le ralentissement</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordtype">float</span> originalDeltaTime = *deltaTime;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>.<a class="code" href="structs__health_system.html#afa3c4cbe95c95ff9cd8bdc9e4cec4a5f">maxHealth</a> = player-&gt;<a class="code" href="structs__joueur.html#a0c0c22c46656774a8d05c167de8152a7">calculatedStats</a>.<a class="code" href="structt__stats.html#aa0551fe442ecebd0432bed6f9121808a">healthMax</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="health_8c.html#a0785e98f299a0efc4d634d618c7f9f75">updateHealthSystem</a>(&amp;player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>, *deltaTime);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>.<a class="code" href="structs__health_system.html#a364b9f3dad940fb121461c314bafb3d4">isDead</a>) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <a class="code" href="fscene_8c.html#a41cb33c742203a83f3b38ad344168917">setScene</a>(context-&gt;<a class="code" href="structt__context.html#a922f92cbdc4ee6e7863f5464d47cebd7">sceneController</a>, <span class="stringliteral">&quot;gameOver&quot;</span>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">// Gestion du ralentissement temporel (effet bullet-time apres une attaque reussie)</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="player_8c.html#ad1ef56e04f9966bf30c4b7d8d494a961">updateTimeSlowEffect</a>(player, &amp;originalDeltaTime, deltaTime);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a7c9ff4070feeb45b288c98437facaf44">nbHits</a> = 0;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a6b273a647bfe2b739c6c4af21a8f9fc3">isActive</a>) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <a class="code" href="player_8c.html#aea2580dd56e7113d24936f6b09a66192">updateAttack</a>(player, deltaTime, entities, context);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#aca09286cd8b3d4183f0d74bad38fff6e">cooldown</a> &gt; 0) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#aca09286cd8b3d4183f0d74bad38fff6e">cooldown</a> -= *deltaTime;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a6b273a647bfe2b739c6c4af21a8f9fc3">isActive</a>) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a7f45e916d4fd291aaaa8a1423e88a68b">timeSinceLastTrail</a> += *deltaTime;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a7f45e916d4fd291aaaa8a1423e88a68b">timeSinceLastTrail</a> &gt;= player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a52ef600ecb6e1c2cbbc51a1311197fb4">trailSpawnInterval</a>) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = <a class="code" href="player_8h.html#a466236ed26ca99fd824d7fb4899e2191">DASH_TRAIL_COUNT</a> - 1; i &gt; 0; i--) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i] = player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i - 1];</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[0].<a class="code" href="structt__dash.html#a898fd30610077edd22c6eb7476548ed0">position</a>.x = (int)player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[0].<a class="code" href="structt__dash.html#a898fd30610077edd22c6eb7476548ed0">position</a>.y = (<span class="keywordtype">int</span>)player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[0].<a class="code" href="structt__dash.html#ac4bb71b9d8ed4dfb153501918cd6ca52">active</a> = SDL_TRUE;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[0].<a class="code" href="structt__dash.html#a6f4dca6b48529c4d3dade0e8d46f4e43">opacity</a> = 1.0f;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a7f45e916d4fd291aaaa8a1423e88a68b">timeSinceLastTrail</a> = 0;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a7f45e916d4fd291aaaa8a1423e88a68b">timeSinceLastTrail</a> += *deltaTime;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a7f45e916d4fd291aaaa8a1423e88a68b">timeSinceLastTrail</a> &gt;= player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a52ef600ecb6e1c2cbbc51a1311197fb4">trailSpawnInterval</a>) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            SDL_bool allTrailsInactive = SDL_TRUE;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="player_8h.html#a466236ed26ca99fd824d7fb4899e2191">DASH_TRAIL_COUNT</a>; i++) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i].<a class="code" href="structt__dash.html#ac4bb71b9d8ed4dfb153501918cd6ca52">active</a>) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                    player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i].<a class="code" href="structt__dash.html#a6f4dca6b48529c4d3dade0e8d46f4e43">opacity</a> -= 0.1f;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i].<a class="code" href="structt__dash.html#a6f4dca6b48529c4d3dade0e8d46f4e43">opacity</a> &lt;= 0.0f) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                        player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i].<a class="code" href="structt__dash.html#ac4bb71b9d8ed4dfb153501918cd6ca52">active</a> = SDL_FALSE;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                        allTrailsInactive = SDL_FALSE;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordflow">if</span> (!allTrailsInactive) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a7f45e916d4fd291aaaa8a1423e88a68b">timeSinceLastTrail</a> = 0;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    SDL_FPoint velocity = player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#acaca78d8d3ac42a3b6ef8aa6f3153e44">physics</a>.<a class="code" href="structt__physics.html#a60b0a6fd3f3f74891eb88685c7e89d4e">velocity</a>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordtype">float</span> speedSq = velocity.x * velocity.x + velocity.y * velocity.y;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">if</span> (speedSq &gt; 2.0f) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">float</span> stepTimer = 0;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        stepTimer += *deltaTime;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">if</span> (stepTimer &gt; 0.25f) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <a class="code" href="particules_8c.html#a60f0ce961cc85e715295bef28126c04d">emitMovementParticles</a>(player-&gt;<a class="code" href="structs__joueur.html#a3693fea77b365593f33b31fa9af5e938">particleEmitter</a>, player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>, player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> + player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#a5050a760c11da521cd4aee6336f6529f">radius</a>, <a class="code" href="debug_8h.html#a54ec4ccfee0bdb1f740deddfc0059304">SDL_COLOR_BLACK</a>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            stepTimer = 0;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="particules_8c.html#a731d5988acb255457e0deb3233f1e4e7">updateEntityParticles</a>(player-&gt;<a class="code" href="structs__joueur.html#a3693fea77b365593f33b31fa9af5e938">particleEmitter</a>, *deltaTime);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="physics_8c.html#a63880ca4246528d2b4a1e1fec0d9c661">updatePhysicEntity</a>(&amp;player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>, deltaTime, salle-&gt;<a class="code" href="structt__salle.html#a26311da258081f1cc4a42e0d6092966d">grille</a>, entities);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">// Fonction renderDashTrail optimisée</span></div>
<div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="player_8c.html#ade88ef9b08cd5f904aaf3da1e9292fd2">  505</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="player_8c.html#ade88ef9b08cd5f904aaf3da1e9292fd2">renderDashTrail</a>(SDL_Renderer* renderer, <a class="code" href="structs__joueur.html">t_joueur</a>* player, <a class="code" href="structt__camera.html">t_camera</a>* camera) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// Vérification rapide s&#39;il y a des traînées à afficher</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    SDL_bool hasActiveTrail = SDL_FALSE;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="player_8h.html#a466236ed26ca99fd824d7fb4899e2191">DASH_TRAIL_COUNT</a>; i++) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i].<a class="code" href="structt__dash.html#ac4bb71b9d8ed4dfb153501918cd6ca52">active</a>) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            hasActiveTrail = SDL_TRUE;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> (!hasActiveTrail) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// Configuration du mode de fusion</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    SDL_SetRenderDrawBlendMode(renderer, SDL_BLENDMODE_BLEND);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    uint8_t r, g, b, a;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    SDL_GetTextureColorMod(player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a>, &amp;r, &amp;g, &amp;b);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    SDL_GetTextureAlphaMod(player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a>, &amp;a);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="player_8h.html#a466236ed26ca99fd824d7fb4899e2191">DASH_TRAIL_COUNT</a>; i++) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">if</span> (!player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i].<a class="code" href="structt__dash.html#ac4bb71b9d8ed4dfb153501918cd6ca52">active</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordtype">float</span> distanceFactor = (float)i / <a class="code" href="player_8h.html#a466236ed26ca99fd824d7fb4899e2191">DASH_TRAIL_COUNT</a>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordtype">float</span> scaleFactor = 0.9f - (0.06f * i);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        uint8_t alpha = (uint8_t)(150 * player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i].<a class="code" href="structt__dash.html#a6f4dca6b48529c4d3dade0e8d46f4e43">opacity</a>);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        SDL_SetTextureColorMod(player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a>, (uint8_t)(180 * (1.0f - distanceFactor)), (uint8_t)(220 * (1.0f - distanceFactor * 0.3f)), 255);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        SDL_SetTextureAlphaMod(player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a>, alpha);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordtype">int</span> width = player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#aff5382dbfeddafc18d0582c032bd1f7c">displayRect</a>.w;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordtype">int</span> height = player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#aff5382dbfeddafc18d0582c032bd1f7c">displayRect</a>.h;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keywordtype">int</span> ghostWidth = (int)(width * scaleFactor);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordtype">int</span> ghostHeight = (int)(height * scaleFactor);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        SDL_Rect destRect = {player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i].<a class="code" href="structt__dash.html#a898fd30610077edd22c6eb7476548ed0">position</a>.x - (ghostWidth / 2), player-&gt;<a class="code" href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">dash</a>.<a class="code" href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">trails</a>[i].<a class="code" href="structt__dash.html#a898fd30610077edd22c6eb7476548ed0">position</a>.y - (ghostHeight / 2), ghostWidth, ghostHeight};</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        SDL_RenderCopyEx(renderer, player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a>, NULL, &amp;destRect, 0, NULL, player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a53e571e5a895ca006bf1ca38cd681ab1">flip</a>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    SDL_SetTextureColorMod(player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a>, r, g, b);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    SDL_SetTextureAlphaMod(player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a>, a);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    SDL_SetRenderDrawBlendMode(renderer, SDL_BLENDMODE_NONE);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="player_8c.html#a62de1cb2bc9e363cfa8a9ace8c9c612a">  549</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="player_8c.html#a62de1cb2bc9e363cfa8a9ace8c9c612a">renderPlayer</a>(SDL_Renderer* renderer, <a class="code" href="structs__joueur.html">t_joueur</a>* player, <a class="code" href="structt__camera.html">t_camera</a>* camera) {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="comment">// Applique un tremblement de caméra si le joueur vient de toucher un ennemi</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="player_8c.html#a68aa7bf08e883fd2ccdf5e65f3c4cc11">applyHitCameraShake</a>(player, camera);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <a class="code" href="player_8c.html#ade88ef9b08cd5f904aaf3da1e9292fd2">renderDashTrail</a>(renderer, player, camera);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="comment">// Affiche l&#39;indicateur de portée de l&#39;arme quand le joueur ne frappe pas</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">if</span> (!player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a6b273a647bfe2b739c6c4af21a8f9fc3">isActive</a>) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <a class="code" href="weapon_8c.html#a009bd4a508cff4e6e45bec4591379aab">renderWeaponRangeUI</a>(renderer, player);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="weapon_8c.html#ad7e876fe31beedb31fd0e933a5061c09">renderAttackConeDebug</a>(player);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>.<a class="code" href="structs__health_system.html#a4784b748667365941b9035c1b1aa4d6c">isFlashing</a>) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        SDL_SetTextureColorMod(player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a>, 255, 255, 255);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        SDL_SetTextureBlendMode(player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a>, SDL_BLENDMODE_ADD);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        SDL_SetTextureBlendMode(player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a>, SDL_BLENDMODE_BLEND);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        SDL_SetTextureColorMod(player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a>, 255, 255, 255);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    SDL_FPoint origin = {player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>, player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a>};</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// Calcul de l&#39;échelle adaptée à la portée de l&#39;arme</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="comment">// Plus l&#39;arme a une grande portée, plus elle apparaît grande à l&#39;écran</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordtype">float</span> scaleY = <a class="code" href="weapon_8c.html#a48d647ca61cdab6aee094d0420874f9e">calculateWeaponScale</a>(player);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// Dimensions de l&#39;arme après mise à l&#39;échelle</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordtype">int</span> scaledWidth = player-&gt;<a class="code" href="structs__joueur.html#aa1f0e0b0b5cde6070983b7210b25e0ec">currentWeapon</a>-&gt;<a class="code" href="structt__arme.html#aff5382dbfeddafc18d0582c032bd1f7c">displayRect</a>.w;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordtype">int</span> scaledHeight = (player-&gt;<a class="code" href="structs__joueur.html#aa1f0e0b0b5cde6070983b7210b25e0ec">currentWeapon</a>-&gt;<a class="code" href="structt__arme.html#aff5382dbfeddafc18d0582c032bd1f7c">displayRect</a>.h * scaleY);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    SDL_Point pivotPoint = {(scaledWidth * 0.5f), (scaledHeight * 0.8f)};</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="particules_8c.html#a4649283fd9dfa8005ebd85d1ef3a771e">renderEntityParticles</a>(renderer, player-&gt;<a class="code" href="structs__joueur.html#a3693fea77b365593f33b31fa9af5e938">particleEmitter</a>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">attack</a>.<a class="code" href="structt__attack.html#a6b273a647bfe2b739c6c4af21a8f9fc3">isActive</a>) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <a class="code" href="weapon_8c.html#af96a799be749a80ec78faad1a28bc755">renderWeaponDuringAttack</a>(renderer, player, origin, pivotPoint, scaledWidth, scaledHeight, player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a53e571e5a895ca006bf1ca38cd681ab1">flip</a>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="keywordflow">if</span> (!(player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>.<a class="code" href="structs__health_system.html#a53d16357c4c34a9a705daa267ff8050e">isInvincible</a> &amp;&amp; fmodf(<a class="code" href="timer_8c.html#aa6a4620337b2d374bffb66ac27b96efe">getDeltaTimer</a>(player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>.<a class="code" href="structs__health_system.html#a1dc7fd5587318a5bc1f46d287abade7e">invincibilityTimer</a>), 0.1) &lt; 0.05)) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <a class="code" href="entity_8c.html#a064827d9879b14f9b529edd8612ffdc8">renderEntity</a>(renderer, &amp;player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>, camera);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">if</span> (!(player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>.<a class="code" href="structs__health_system.html#a53d16357c4c34a9a705daa267ff8050e">isInvincible</a> &amp;&amp; fmodf(<a class="code" href="timer_8c.html#aa6a4620337b2d374bffb66ac27b96efe">getDeltaTimer</a>(player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>.<a class="code" href="structs__health_system.html#a1dc7fd5587318a5bc1f46d287abade7e">invincibilityTimer</a>), 0.1) &lt; 0.05)) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <a class="code" href="entity_8c.html#a064827d9879b14f9b529edd8612ffdc8">renderEntity</a>(renderer, &amp;player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>, camera);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <a class="code" href="weapon_8c.html#a5d53a807540e29196d6a6626c870ece5">renderWeaponIdle</a>(renderer, player, origin, pivotPoint, scaledWidth, scaledHeight, player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a53e571e5a895ca006bf1ca38cd681ab1">flip</a>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="player_8c.html#a07a36417f6cb5cd32e734eea6e583208">  597</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="player_8c.html#a07a36417f6cb5cd32e734eea6e583208">freePlayer</a>(<span class="keywordtype">void</span>* <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="structs__joueur.html">t_joueur</a>* player = (<a class="code" href="structs__joueur.html">t_joueur</a>*)<span class="keywordtype">object</span>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    SDL_DestroyTexture(player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a>);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    free(player);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="player_8c.html#ada3f1cfedc47c0c89696ca597444ef13">  603</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="player_8c.html#ada3f1cfedc47c0c89696ca597444ef13">addPlayerXP</a>(<a class="code" href="structs__joueur.html">t_joueur</a>* player, <span class="keywordtype">int</span> xpAmount) {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a9554b1ce6c813b2988245ac532bf658c">xp</a> += xpAmount;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="player_8c.html#a76ce13fbd671cedc0fe37b4790c7fd4d">checkAndProcessLevelUp</a>(player);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;}</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="player_8c.html#acecd15b6ea9287bbc4a1ef451e535fb9">  608</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="player_8c.html#acecd15b6ea9287bbc4a1ef451e535fb9">getPlayerXPProgress</a>(<a class="code" href="structs__joueur.html">t_joueur</a>* player) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">if</span> (!player || player-&gt;<a class="code" href="structs__joueur.html#ad0851fd0d02bf2b14381fbf23b08b0c2">xpToNextLevel</a> &lt;= 0) <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordtype">float</span> progress = (float)player-&gt;<a class="code" href="structs__joueur.html#a9554b1ce6c813b2988245ac532bf658c">xp</a> / (<span class="keywordtype">float</span>)player-&gt;<a class="code" href="structs__joueur.html#ad0851fd0d02bf2b14381fbf23b08b0c2">xpToNextLevel</a>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">return</span> fmaxf(0.0f, fminf(progress, 1.0f));</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="player_8c.html#a76ce13fbd671cedc0fe37b4790c7fd4d">  616</a></span>&#160;SDL_bool <a class="code" href="player_8c.html#a76ce13fbd671cedc0fe37b4790c7fd4d">checkAndProcessLevelUp</a>(<a class="code" href="structs__joueur.html">t_joueur</a>* player) {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#a9554b1ce6c813b2988245ac532bf658c">xp</a> &lt; player-&gt;<a class="code" href="structs__joueur.html#ad0851fd0d02bf2b14381fbf23b08b0c2">xpToNextLevel</a>) <span class="keywordflow">return</span> SDL_FALSE;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#acf4d33ee4cff36f69b924471174dcb11">level</a> += 1;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#a9554b1ce6c813b2988245ac532bf658c">xp</a> = player-&gt;<a class="code" href="structs__joueur.html#a9554b1ce6c813b2988245ac532bf658c">xp</a> - player-&gt;<a class="code" href="structs__joueur.html#ad0851fd0d02bf2b14381fbf23b08b0c2">xpToNextLevel</a>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#ad0851fd0d02bf2b14381fbf23b08b0c2">xpToNextLevel</a> = (int)(player-&gt;<a class="code" href="structs__joueur.html#ad0851fd0d02bf2b14381fbf23b08b0c2">xpToNextLevel</a> * 1.2f);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#ab4bc9e1fd9102aeaaa3b40db20af87c4">baseStats</a>.<a class="code" href="structt__stats.html#a8cf2c73358042a1df7c0f81b938dd922">attack</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a> += 5;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#ab4bc9e1fd9102aeaaa3b40db20af87c4">baseStats</a>.<a class="code" href="structt__stats.html#af43ec2aac2c1efbda714f834a7d0fee1">defense</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a> += 5;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#ab4bc9e1fd9102aeaaa3b40db20af87c4">baseStats</a>.<a class="code" href="structt__stats.html#aa0551fe442ecebd0432bed6f9121808a">healthMax</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a> += 5;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#ab4bc9e1fd9102aeaaa3b40db20af87c4">baseStats</a>.<a class="code" href="structt__stats.html#ac7dbb58a120cdcb731b53fe170f0a859">speed</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a> += 5;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="equipements_manager_8c.html#a8c2af2e271f9da3ba156de14441b6e3a">equipementRecalculerStats</a>(&amp;player);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="particules_8c.html#aea0223a544ee988ed39eafc6faed78ce">emitHealParticles</a>(player-&gt;<a class="code" href="structs__joueur.html#a3693fea77b365593f33b31fa9af5e938">particleEmitter</a>, (SDL_FPoint){player-&gt;entity.collisionCircle.x, player-&gt;entity.collisionCircle.y}, player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#a5050a760c11da521cd4aee6336f6529f">radius</a>, (SDL_Color){64, 255, 128, 200});</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>.<a class="code" href="structs__health_system.html#af8c04013cfb0444c405822e9939d8ae6">currentHealth</a> = player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>.<a class="code" href="structs__health_system.html#afa3c4cbe95c95ff9cd8bdc9e4cec4a5f">maxHealth</a>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="structs__joueur.html#a9554b1ce6c813b2988245ac532bf658c">xp</a> &gt;= player-&gt;<a class="code" href="structs__joueur.html#ad0851fd0d02bf2b14381fbf23b08b0c2">xpToNextLevel</a>) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>.<a class="code" href="structs__health_system.html#af8c04013cfb0444c405822e9939d8ae6">currentHealth</a> = player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>.<a class="code" href="structs__health_system.html#afa3c4cbe95c95ff9cd8bdc9e4cec4a5f">maxHealth</a>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="player_8c.html#a76ce13fbd671cedc0fe37b4790c7fd4d">checkAndProcessLevelUp</a>(player);  <span class="comment">// Récursion pour gérer plusieurs level up d&#39;un coup</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">return</span> SDL_TRUE;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="player_8c.html#a3adff23aec4ff9cdf14e365c8ef60eb4">  641</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="player_8c.html#a3adff23aec4ff9cdf14e365c8ef60eb4">reloadPlayerAnimations</a>(<a class="code" href="structs__joueur.html">t_joueur</a>* joueur, <a class="code" href="structt__tileset.html">t_tileset</a>* tileset, <span class="keywordtype">int</span> newOffset) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="animation_8c.html#a6d9d79f7c88ff57d79aa88a7193f00f2">freeAnimationController</a>(joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afb80ffdccd1d1e4b47c52d2e6eed697e">animationController</a>);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afb80ffdccd1d1e4b47c52d2e6eed697e">animationController</a> = <a class="code" href="animation_8c.html#a898f3e487ffd9a824e2fa2a11c03a093">initAnimationController</a>();</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">texture</a> = <a class="code" href="object_manager_8c.html#ad54381aaf28c8563e5faafa52728a115">getObject</a>(tileset-&gt;<a class="code" href="structt__tileset.html#a2c9868664be34167c1ffd0ba47949c77">textureTiles</a>, newOffset + 1);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="animation_8c.html#a86e4f6cbeb644344e22ddf9c6f0cf3fa">addAnimation</a>(joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afb80ffdccd1d1e4b47c52d2e6eed697e">animationController</a>, <a class="code" href="animation_8c.html#aa7621b37ce4e22d8f57f39c38970a052">createAnimation</a>(tileset, (<span class="keywordtype">int</span>[]){newOffset + 1, newOffset + 2}, 2, 240, SDL_TRUE, <span class="stringliteral">&quot;idle&quot;</span>));</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="animation_8c.html#a86e4f6cbeb644344e22ddf9c6f0cf3fa">addAnimation</a>(joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afb80ffdccd1d1e4b47c52d2e6eed697e">animationController</a>, <a class="code" href="animation_8c.html#aa7621b37ce4e22d8f57f39c38970a052">createAnimation</a>(tileset, (<span class="keywordtype">int</span>[]){newOffset + 3, newOffset + 4}, 2, 240, SDL_TRUE, <span class="stringliteral">&quot;walk&quot;</span>));</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="animation_8c.html#a558f44850e43c0e5f4673279e0e58611">setAnimation</a>(joueur-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afb80ffdccd1d1e4b47c52d2e6eed697e">animationController</a>, <span class="stringliteral">&quot;idle&quot;</span>);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;}</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="player_8c.html#a8e7629b549bd463358aee9ef316f412c">  653</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="player_8c.html#a8e7629b549bd463358aee9ef316f412c">playerTakeDamage</a>(<a class="code" href="structs__joueur.html">t_joueur</a>* player, <span class="keywordtype">int</span> damage, <a class="code" href="structt__context.html">t_context</a>* context, SDL_FPoint hitDirection) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">if</span> (!player || player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>.<a class="code" href="structs__health_system.html#a53d16357c4c34a9a705daa267ff8050e">isInvincible</a> || player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>.<a class="code" href="structs__health_system.html#a364b9f3dad940fb121461c314bafb3d4">isDead</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    SDL_FPoint position = {player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>, player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a>};</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordtype">float</span> radius = player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>.<a class="code" href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">collisionCircle</a>.<a class="code" href="structt__circle.html#a5050a760c11da521cd4aee6336f6529f">radius</a>;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    SDL_Color bloodColor = {200, 20, 20, 200};</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="particules_8c.html#a5daf89ca83b59eabf3cd8d2d5195f529">emitImpactParticles</a>(player-&gt;<a class="code" href="structs__joueur.html#a3693fea77b365593f33b31fa9af5e938">particleEmitter</a>, position, hitDirection, radius, bloodColor);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="health_8c.html#a99890adcfd69b9d90a178d967a70f347">applyDamage</a>(&amp;player-&gt;<a class="code" href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">health</a>, fmax(0, damage - player-&gt;<a class="code" href="structs__joueur.html#a0c0c22c46656774a8d05c167de8152a7">calculatedStats</a>.<a class="code" href="structt__stats.html#af43ec2aac2c1efbda714f834a7d0fee1">defense</a>.<a class="code" href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">additive</a>), &amp;player-&gt;<a class="code" href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">entity</a>, context);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;}</div>
<div class="ttc" id="aanimation_8c_html_a558f44850e43c0e5f4673279e0e58611"><div class="ttname"><a href="animation_8c.html#a558f44850e43c0e5f4673279e0e58611">setAnimation</a></div><div class="ttdeci">void setAnimation(t_animationController *controller, char *name)</div><div class="ttdoc">Change l'animation active.</div><div class="ttdef"><b>Definition:</b> <a href="animation_8c_source.html#l00083">animation.c:83</a></div></div>
<div class="ttc" id="aanimation_8c_html_a6d9d79f7c88ff57d79aa88a7193f00f2"><div class="ttname"><a href="animation_8c.html#a6d9d79f7c88ff57d79aa88a7193f00f2">freeAnimationController</a></div><div class="ttdeci">void freeAnimationController(t_animationController *controller)</div><div class="ttdef"><b>Definition:</b> <a href="animation_8c_source.html#l00117">animation.c:117</a></div></div>
<div class="ttc" id="aanimation_8c_html_a86e4f6cbeb644344e22ddf9c6f0cf3fa"><div class="ttname"><a href="animation_8c.html#a86e4f6cbeb644344e22ddf9c6f0cf3fa">addAnimation</a></div><div class="ttdeci">void addAnimation(t_animationController *controller, t_animation *animation)</div><div class="ttdoc">Ajoute une animation au contrôleur.</div><div class="ttdef"><b>Definition:</b> <a href="animation_8c_source.html#l00078">animation.c:78</a></div></div>
<div class="ttc" id="aanimation_8c_html_a898f3e487ffd9a824e2fa2a11c03a093"><div class="ttname"><a href="animation_8c.html#a898f3e487ffd9a824e2fa2a11c03a093">initAnimationController</a></div><div class="ttdeci">t_animationController * initAnimationController()</div><div class="ttdoc">Initialise un contrôleur d'animations.</div><div class="ttdef"><b>Definition:</b> <a href="animation_8c_source.html#l00065">animation.c:65</a></div></div>
<div class="ttc" id="aanimation_8c_html_aa7621b37ce4e22d8f57f39c38970a052"><div class="ttname"><a href="animation_8c.html#aa7621b37ce4e22d8f57f39c38970a052">createAnimation</a></div><div class="ttdeci">t_animation * createAnimation(t_tileset *tileset, int *frameIndices, int numFrames, int speed, SDL_bool looping, char *name)</div><div class="ttdoc">Crée une nouvelle animation.</div><div class="ttdef"><b>Definition:</b> <a href="animation_8c_source.html#l00003">animation.c:3</a></div></div>
<div class="ttc" id="acamera_8c_html_aa33df647efea80a9d6ba2d01184a714d"><div class="ttname"><a href="camera_8c.html#aa33df647efea80a9d6ba2d01184a714d">cameraAddShake</a></div><div class="ttdeci">void cameraAddShake(t_camera *cam, float intensity, float duration)</div><div class="ttdoc">Ajoute un effet de tremblement à la caméra.</div><div class="ttdef"><b>Definition:</b> <a href="camera_8c_source.html#l00178">camera.c:178</a></div></div>
<div class="ttc" id="acamera_8c_html_aa565fc417430314cb021ebd9b85e74bc"><div class="ttname"><a href="camera_8c.html#aa565fc417430314cb021ebd9b85e74bc">convertMouseToWorld</a></div><div class="ttdeci">void convertMouseToWorld(t_viewPort *vp, int mouseX, int mouseY, float *worldX, float *worldY)</div><div class="ttdoc">Convertit des coordonnées souris (écran) en coordonnées monde (niveau)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8c_source.html#l00145">camera.c:145</a></div></div>
<div class="ttc" id="acore_8c_html_a94ac75d81eceed79e81da71bcb7dbda7"><div class="ttname"><a href="core_8c.html#a94ac75d81eceed79e81da71bcb7dbda7">smoothStepf</a></div><div class="ttdeci">float smoothStepf(float t)</div><div class="ttdoc">Applique une fonction de lissage à une valeur.</div><div class="ttdef"><b>Definition:</b> <a href="core_8c_source.html#l00013">core.c:13</a></div></div>
<div class="ttc" id="acore_8c_html_af285790c31a2afabd9332560b8249f5e"><div class="ttname"><a href="core_8c.html#af285790c31a2afabd9332560b8249f5e">lerpAngle</a></div><div class="ttdeci">float lerpAngle(float a, float b, float t)</div><div class="ttdoc">Interpole linéairement entre deux angles.</div><div class="ttdef"><b>Definition:</b> <a href="core_8c_source.html#l00003">core.c:3</a></div></div>
<div class="ttc" id="acore_8h_html_a002b2f4894492820fe708b1b7e7c5e70"><div class="ttname"><a href="core_8h.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a></div><div class="ttdeci">#define EPSILON</div><div class="ttdoc">Petite valeur pour comparer des flottants avec une tolérance.</div><div class="ttdef"><b>Definition:</b> <a href="core_8h_source.html#l00050">core.h:50</a></div></div>
<div class="ttc" id="acore_8h_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="core_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdoc">Constante Pi pour les calculs trigonométriques.</div><div class="ttdef"><b>Definition:</b> <a href="core_8h_source.html#l00044">core.h:44</a></div></div>
<div class="ttc" id="adebug_8h_html_a54ec4ccfee0bdb1f740deddfc0059304"><div class="ttname"><a href="debug_8h.html#a54ec4ccfee0bdb1f740deddfc0059304">SDL_COLOR_BLACK</a></div><div class="ttdeci">#define SDL_COLOR_BLACK</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00020">debug.h:20</a></div></div>
<div class="ttc" id="aenemy_8c_html_ae756d207dddebceef48dfd1ad481cf4e"><div class="ttname"><a href="enemy_8c.html#ae756d207dddebceef48dfd1ad481cf4e">takeDamageFromPlayer</a></div><div class="ttdeci">void takeDamageFromPlayer(t_enemy *enemy, int damage, t_joueur *player, t_context *context, SDL_FPoint hitDirection)</div><div class="ttdoc">Applique des dégâts à un ennemi.</div><div class="ttdef"><b>Definition:</b> <a href="enemy_8c_source.html#l00097">enemy.c:97</a></div></div>
<div class="ttc" id="aenemy_8h_html"><div class="ttname"><a href="enemy_8h.html">enemy.h</a></div><div class="ttdoc">Définition de la structure de base pour les ennemis.</div></div>
<div class="ttc" id="aentity_8c_html_a064827d9879b14f9b529edd8612ffdc8"><div class="ttname"><a href="entity_8c.html#a064827d9879b14f9b529edd8612ffdc8">renderEntity</a></div><div class="ttdeci">void renderEntity(SDL_Renderer *renderer, t_entity *entity, t_camera *camera)</div><div class="ttdoc">Affiche une entité à l'écran.</div><div class="ttdef"><b>Definition:</b> <a href="entity_8c_source.html#l00003">entity.c:3</a></div></div>
<div class="ttc" id="aequipements_manager_8c_html_a43fd9bc1e73271ce69490fd2600dd3d1"><div class="ttname"><a href="equipements_manager_8c.html#a43fd9bc1e73271ce69490fd2600dd3d1">createInventaire</a></div><div class="ttdeci">t_inventaire * createInventaire()</div><div class="ttdoc">Crée un nouvel inventaire vide.</div><div class="ttdef"><b>Definition:</b> <a href="equipements_manager_8c_source.html#l00365">equipementsManager.c:365</a></div></div>
<div class="ttc" id="aequipements_manager_8c_html_a8c2af2e271f9da3ba156de14441b6e3a"><div class="ttname"><a href="equipements_manager_8c.html#a8c2af2e271f9da3ba156de14441b6e3a">equipementRecalculerStats</a></div><div class="ttdeci">void equipementRecalculerStats(t_joueur **c)</div><div class="ttdoc">Recalcule les statistiques après changement d'équipement.</div><div class="ttdef"><b>Definition:</b> <a href="equipements_manager_8c_source.html#l00424">equipementsManager.c:424</a></div></div>
<div class="ttc" id="aequipements_manager_8h_html_a948fe8a38a964870463f87c1ffebb66ba0d6d4d79e9cf2da1892632b2076861ae"><div class="ttname"><a href="equipements_manager_8h.html#a948fe8a38a964870463f87c1ffebb66ba0d6d4d79e9cf2da1892632b2076861ae">SLOT_ARMURE</a></div><div class="ttdeci">@ SLOT_ARMURE</div><div class="ttdoc">Emplacement pour l'armure.</div><div class="ttdef"><b>Definition:</b> <a href="equipements_manager_8h_source.html#l00030">equipementsManager.h:30</a></div></div>
<div class="ttc" id="aequipements_manager_8h_html_a948fe8a38a964870463f87c1ffebb66ba483b09cf2bdd38b012390e1b31004cda"><div class="ttname"><a href="equipements_manager_8h.html#a948fe8a38a964870463f87c1ffebb66ba483b09cf2bdd38b012390e1b31004cda">SLOT_ARME</a></div><div class="ttdeci">@ SLOT_ARME</div><div class="ttdoc">Emplacement pour les armes.</div><div class="ttdef"><b>Definition:</b> <a href="equipements_manager_8h_source.html#l00029">equipementsManager.h:29</a></div></div>
<div class="ttc" id="aequipements_manager_8h_html_a948fe8a38a964870463f87c1ffebb66ba8686ce7c9aefbd113cf3b7c7841327e1"><div class="ttname"><a href="equipements_manager_8h.html#a948fe8a38a964870463f87c1ffebb66ba8686ce7c9aefbd113cf3b7c7841327e1">SLOT_TALISMENT</a></div><div class="ttdeci">@ SLOT_TALISMENT</div><div class="ttdoc">Emplacement pour talisman.</div><div class="ttdef"><b>Definition:</b> <a href="equipements_manager_8h_source.html#l00032">equipementsManager.h:32</a></div></div>
<div class="ttc" id="aequipements_manager_8h_html_a948fe8a38a964870463f87c1ffebb66baee1ee2007f6b2ae1351b633d3fbf490a"><div class="ttname"><a href="equipements_manager_8h.html#a948fe8a38a964870463f87c1ffebb66baee1ee2007f6b2ae1351b633d3fbf490a">SLOT_ACTIVABLE1</a></div><div class="ttdeci">@ SLOT_ACTIVABLE1</div><div class="ttdoc">Emplacement pour item activable.</div><div class="ttdef"><b>Definition:</b> <a href="equipements_manager_8h_source.html#l00031">equipementsManager.h:31</a></div></div>
<div class="ttc" id="afscene_8c_html_a41cb33c742203a83f3b38ad344168917"><div class="ttname"><a href="fscene_8c.html#a41cb33c742203a83f3b38ad344168917">setScene</a></div><div class="ttdeci">void setScene(t_sceneController *controller, char *name)</div><div class="ttdoc">Change la scène courante.</div><div class="ttdef"><b>Definition:</b> <a href="fscene_8c_source.html#l00106">fscene.c:106</a></div></div>
<div class="ttc" id="ahealth_8c_html_a0785e98f299a0efc4d634d618c7f9f75"><div class="ttname"><a href="health_8c.html#a0785e98f299a0efc4d634d618c7f9f75">updateHealthSystem</a></div><div class="ttdeci">void updateHealthSystem(t_healthSystem *health, float deltaTime)</div><div class="ttdoc">Met à jour le système de santé</div><div class="ttdef"><b>Definition:</b> <a href="health_8c_source.html#l00112">health.c:112</a></div></div>
<div class="ttc" id="ahealth_8c_html_a99890adcfd69b9d90a178d967a70f347"><div class="ttname"><a href="health_8c.html#a99890adcfd69b9d90a178d967a70f347">applyDamage</a></div><div class="ttdeci">void applyDamage(t_healthSystem *health, int damage, void *entity, t_context *context)</div><div class="ttdoc">Applique des dégâts à une entité</div><div class="ttdef"><b>Definition:</b> <a href="health_8c_source.html#l00035">health.c:35</a></div></div>
<div class="ttc" id="ahealth_8c_html_af78dc016d45f39fbd4f2075eb603353f"><div class="ttname"><a href="health_8c.html#af78dc016d45f39fbd4f2075eb603353f">initHealthSystem</a></div><div class="ttdeci">void initHealthSystem(t_healthSystem *health, int maxHealth)</div><div class="ttdoc">Initialise un système de santé</div><div class="ttdef"><b>Definition:</b> <a href="health_8c_source.html#l00008">health.c:8</a></div></div>
<div class="ttc" id="ainput_8c_html_a5dbfa0b962c1dde73b323300bc05034c"><div class="ttname"><a href="input_8c.html#a5dbfa0b962c1dde73b323300bc05034c">keyPressOnce</a></div><div class="ttdeci">SDL_bool keyPressOnce(t_input *input, SDL_Scancode scancode)</div><div class="ttdoc">Détecte un appui unique sur une touche malgrés les frames.</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00049">input.c:49</a></div></div>
<div class="ttc" id="aobject_manager_8c_html_aba826a5b8e7b3641e82577bfc3542041"><div class="ttname"><a href="object_manager_8c.html#aba826a5b8e7b3641e82577bfc3542041">getTypeIdByName</a></div><div class="ttdeci">uint8_t getTypeIdByName(t_typeRegistry *registry, char *name)</div><div class="ttdoc">Recure un id avec son nom depuis un registre.</div><div class="ttdef"><b>Definition:</b> <a href="object_manager_8c_source.html#l00018">objectManager.c:18</a></div></div>
<div class="ttc" id="aobject_manager_8c_html_ad54381aaf28c8563e5faafa52728a115"><div class="ttname"><a href="object_manager_8c.html#ad54381aaf28c8563e5faafa52728a115">getObject</a></div><div class="ttdeci">void * getObject(t_objectManager *manager, int index)</div><div class="ttdoc">Récupère un objet à partir de son index dans le gestionnaire d'objets.</div><div class="ttdef"><b>Definition:</b> <a href="object_manager_8c_source.html#l00077">objectManager.c:77</a></div></div>
<div class="ttc" id="aobject_manager_8c_html_aead2248cbf6dfb86e2b89f07c1bf51ac"><div class="ttname"><a href="object_manager_8c.html#aead2248cbf6dfb86e2b89f07c1bf51ac">getObjectTypeId</a></div><div class="ttdeci">uint8_t getObjectTypeId(t_objectManager *manager, int index)</div><div class="ttdoc">Récupère l'identifiant de type d'un objet à partir de son index.</div><div class="ttdef"><b>Definition:</b> <a href="object_manager_8c_source.html#l00043">objectManager.c:43</a></div></div>
<div class="ttc" id="aparticules_8c_html_a4649283fd9dfa8005ebd85d1ef3a771e"><div class="ttname"><a href="particules_8c.html#a4649283fd9dfa8005ebd85d1ef3a771e">renderEntityParticles</a></div><div class="ttdeci">void renderEntityParticles(SDL_Renderer *renderer, t_particleEmitter *emitter)</div><div class="ttdoc">Affiche toutes les particules actives.</div><div class="ttdef"><b>Definition:</b> <a href="particules_8c_source.html#l01104">particules.c:1104</a></div></div>
<div class="ttc" id="aparticules_8c_html_a5daf89ca83b59eabf3cd8d2d5195f529"><div class="ttname"><a href="particules_8c.html#a5daf89ca83b59eabf3cd8d2d5195f529">emitImpactParticles</a></div><div class="ttdeci">void emitImpactParticles(t_particleEmitter *emitter, SDL_FPoint position, SDL_FPoint hitDirection, float radius, SDL_Color baseColor)</div><div class="ttdoc">Émet des particules d'impact.</div><div class="ttdef"><b>Definition:</b> <a href="particules_8c_source.html#l00728">particules.c:728</a></div></div>
<div class="ttc" id="aparticules_8c_html_a60f0ce961cc85e715295bef28126c04d"><div class="ttname"><a href="particules_8c.html#a60f0ce961cc85e715295bef28126c04d">emitMovementParticles</a></div><div class="ttdeci">void emitMovementParticles(t_particleEmitter *emitter, float x, float y, SDL_Color color)</div><div class="ttdoc">Émet des particules de mouvement.</div><div class="ttdef"><b>Definition:</b> <a href="particules_8c_source.html#l00070">particules.c:70</a></div></div>
<div class="ttc" id="aparticules_8c_html_a731d5988acb255457e0deb3233f1e4e7"><div class="ttname"><a href="particules_8c.html#a731d5988acb255457e0deb3233f1e4e7">updateEntityParticles</a></div><div class="ttdeci">void updateEntityParticles(t_particleEmitter *emitter, float deltaTime)</div><div class="ttdoc">Met à jour toutes les particules actives.</div><div class="ttdef"><b>Definition:</b> <a href="particules_8c_source.html#l01081">particules.c:1081</a></div></div>
<div class="ttc" id="aparticules_8c_html_ae582018b7ea20710f9845936d0b82cb5"><div class="ttname"><a href="particules_8c.html#ae582018b7ea20710f9845936d0b82cb5">createParticleEmitter</a></div><div class="ttdeci">t_particleEmitter * createParticleEmitter()</div><div class="ttdoc">Crée un nouvel émetteur de particules.</div><div class="ttdef"><b>Definition:</b> <a href="particules_8c_source.html#l00014">particules.c:14</a></div></div>
<div class="ttc" id="aparticules_8c_html_aea0223a544ee988ed39eafc6faed78ce"><div class="ttname"><a href="particules_8c.html#aea0223a544ee988ed39eafc6faed78ce">emitHealParticles</a></div><div class="ttdeci">void emitHealParticles(t_particleEmitter *emitter, SDL_FPoint position, float radius, SDL_Color baseColor)</div><div class="ttdoc">Émet des particules de soin pour le sorcier.</div><div class="ttdef"><b>Definition:</b> <a href="particules_8c_source.html#l00973">particules.c:973</a></div></div>
<div class="ttc" id="aphysics_8c_html_a63880ca4246528d2b4a1e1fec0d9c661"><div class="ttname"><a href="physics_8c.html#a63880ca4246528d2b4a1e1fec0d9c661">updatePhysicEntity</a></div><div class="ttdeci">void updatePhysicEntity(t_entity *entity, float *deltaTime, t_grid *grid, t_objectManager *entities)</div><div class="ttdef"><b>Definition:</b> <a href="physics_8c_source.html#l00119">physics.c:119</a></div></div>
<div class="ttc" id="aphysics_8c_html_a7bdb858968c7b571e6577d1a30af9888"><div class="ttname"><a href="physics_8c.html#a7bdb858968c7b571e6577d1a30af9888">cercleInSector</a></div><div class="ttdeci">SDL_bool cercleInSector(SDL_FPoint target, float target_radius, SDL_FPoint origin, float currentAngle, float range, float arc)</div><div class="ttdoc">Vérifie si un cercle est dans un secteur angulaire.</div><div class="ttdef"><b>Definition:</b> <a href="physics_8c_source.html#l00070">physics.c:70</a></div></div>
<div class="ttc" id="aplayer_8c_html_a07a36417f6cb5cd32e734eea6e583208"><div class="ttname"><a href="player_8c.html#a07a36417f6cb5cd32e734eea6e583208">freePlayer</a></div><div class="ttdeci">void freePlayer(void *object)</div><div class="ttdoc">Libère la mémoire utilisée par un joueur.</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00597">player.c:597</a></div></div>
<div class="ttc" id="aplayer_8c_html_a19c9b26bd5ea417615cd19e9ce4c46f4"><div class="ttname"><a href="player_8c.html#a19c9b26bd5ea417615cd19e9ce4c46f4">updatePlayer</a></div><div class="ttdeci">void updatePlayer(t_joueur *player, float *deltaTime, t_salle *salle, t_objectManager *entities, t_context *context)</div><div class="ttdoc">Met à jour l'état et le comportement du joueur.</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00424">player.c:424</a></div></div>
<div class="ttc" id="aplayer_8c_html_a3adff23aec4ff9cdf14e365c8ef60eb4"><div class="ttname"><a href="player_8c.html#a3adff23aec4ff9cdf14e365c8ef60eb4">reloadPlayerAnimations</a></div><div class="ttdeci">void reloadPlayerAnimations(t_joueur *joueur, t_tileset *tileset, int newOffset)</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00641">player.c:641</a></div></div>
<div class="ttc" id="aplayer_8c_html_a4c5383bacbe517b6c043977ffb61c39f"><div class="ttname"><a href="player_8c.html#a4c5383bacbe517b6c043977ffb61c39f">startAttack</a></div><div class="ttdeci">void startAttack(t_joueur *player)</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00169">player.c:169</a></div></div>
<div class="ttc" id="aplayer_8c_html_a62de1cb2bc9e363cfa8a9ace8c9c612a"><div class="ttname"><a href="player_8c.html#a62de1cb2bc9e363cfa8a9ace8c9c612a">renderPlayer</a></div><div class="ttdeci">void renderPlayer(SDL_Renderer *renderer, t_joueur *player, t_camera *camera)</div><div class="ttdoc">Affiche le joueur à l'écran.</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00549">player.c:549</a></div></div>
<div class="ttc" id="aplayer_8c_html_a68aa7bf08e883fd2ccdf5e65f3c4cc11"><div class="ttname"><a href="player_8c.html#a68aa7bf08e883fd2ccdf5e65f3c4cc11">applyHitCameraShake</a></div><div class="ttdeci">void applyHitCameraShake(t_joueur *player, t_camera *camera)</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00094">player.c:94</a></div></div>
<div class="ttc" id="aplayer_8c_html_a76ce13fbd671cedc0fe37b4790c7fd4d"><div class="ttname"><a href="player_8c.html#a76ce13fbd671cedc0fe37b4790c7fd4d">checkAndProcessLevelUp</a></div><div class="ttdeci">SDL_bool checkAndProcessLevelUp(t_joueur *player)</div><div class="ttdoc">Vérifie si le joueur peut monter de niveau et applique les améliorations.</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00616">player.c:616</a></div></div>
<div class="ttc" id="aplayer_8c_html_a81ad3e4fcd0e3686c7076cb022b61129"><div class="ttname"><a href="player_8c.html#a81ad3e4fcd0e3686c7076cb022b61129">createPlayer</a></div><div class="ttdeci">t_joueur * createPlayer(t_control *control, SDL_Texture *texture, SDL_Rect rect, t_tileset *tileset, int offset)</div><div class="ttdoc">Crée un nouveau joueur.</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00005">player.c:5</a></div></div>
<div class="ttc" id="aplayer_8c_html_a8e7629b549bd463358aee9ef316f412c"><div class="ttname"><a href="player_8c.html#a8e7629b549bd463358aee9ef316f412c">playerTakeDamage</a></div><div class="ttdeci">void playerTakeDamage(t_joueur *player, int damage, t_context *context, SDL_FPoint hitDirection)</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00653">player.c:653</a></div></div>
<div class="ttc" id="aplayer_8c_html_acecd15b6ea9287bbc4a1ef451e535fb9"><div class="ttname"><a href="player_8c.html#acecd15b6ea9287bbc4a1ef451e535fb9">getPlayerXPProgress</a></div><div class="ttdeci">float getPlayerXPProgress(t_joueur *player)</div><div class="ttdoc">Calcule la progression vers le niveau suivant.</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00608">player.c:608</a></div></div>
<div class="ttc" id="aplayer_8c_html_ad1ef56e04f9966bf30c4b7d8d494a961"><div class="ttname"><a href="player_8c.html#ad1ef56e04f9966bf30c4b7d8d494a961">updateTimeSlowEffect</a></div><div class="ttdeci">void updateTimeSlowEffect(t_joueur *player, float *originalDeltaTime, float *modifiedDeltaTime)</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00133">player.c:133</a></div></div>
<div class="ttc" id="aplayer_8c_html_ad58c8df82ef4cd3b925aa17cd808b28f"><div class="ttname"><a href="player_8c.html#ad58c8df82ef4cd3b925aa17cd808b28f">handleInputPlayer</a></div><div class="ttdeci">void handleInputPlayer(t_input *input, t_joueur *player, t_grid *grid, t_viewPort *vp, float *deltaTime, t_sceneController *sceneController)</div><div class="ttdoc">Traite les entrées utilisateur pour le joueur.</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00293">player.c:293</a></div></div>
<div class="ttc" id="aplayer_8c_html_ada3f1cfedc47c0c89696ca597444ef13"><div class="ttname"><a href="player_8c.html#ada3f1cfedc47c0c89696ca597444ef13">addPlayerXP</a></div><div class="ttdeci">void addPlayerXP(t_joueur *player, int xpAmount)</div><div class="ttdoc">Ajoute des points d'expérience au joueur.</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00603">player.c:603</a></div></div>
<div class="ttc" id="aplayer_8c_html_ade88ef9b08cd5f904aaf3da1e9292fd2"><div class="ttname"><a href="player_8c.html#ade88ef9b08cd5f904aaf3da1e9292fd2">renderDashTrail</a></div><div class="ttdeci">void renderDashTrail(SDL_Renderer *renderer, t_joueur *player, t_camera *camera)</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00505">player.c:505</a></div></div>
<div class="ttc" id="aplayer_8c_html_aea2580dd56e7113d24936f6b09a66192"><div class="ttname"><a href="player_8c.html#aea2580dd56e7113d24936f6b09a66192">updateAttack</a></div><div class="ttdeci">void updateAttack(t_joueur *player, float *deltaTime, t_objectManager *entities, t_context *context)</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00191">player.c:191</a></div></div>
<div class="ttc" id="aplayer_8h_html"><div class="ttname"><a href="player_8h.html">player.h</a></div><div class="ttdoc">Définition et comportement du joueur principal.</div></div>
<div class="ttc" id="aplayer_8h_html_a466236ed26ca99fd824d7fb4899e2191"><div class="ttname"><a href="player_8h.html#a466236ed26ca99fd824d7fb4899e2191">DASH_TRAIL_COUNT</a></div><div class="ttdeci">#define DASH_TRAIL_COUNT</div><div class="ttdoc">Nombre maximal de positions pour l'effet de traînée pendant un dash.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00026">player.h:26</a></div></div>
<div class="ttc" id="astructs__entity_html"><div class="ttname"><a href="structs__entity.html">s_entity</a></div><div class="ttdoc">Structure de base pour toutes les entités du jeu.</div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00024">entity.h:24</a></div></div>
<div class="ttc" id="astructs__entity_html_a53e571e5a895ca006bf1ca38cd681ab1"><div class="ttname"><a href="structs__entity.html#a53e571e5a895ca006bf1ca38cd681ab1">s_entity::flip</a></div><div class="ttdeci">SDL_RendererFlip flip</div><div class="ttdoc">Direction de rendu (retournement horizontal/vertical)</div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00035">entity.h:35</a></div></div>
<div class="ttc" id="astructs__entity_html_a859b8efbf9abe8e82757ee5c75a0c97c"><div class="ttname"><a href="structs__entity.html#a859b8efbf9abe8e82757ee5c75a0c97c">s_entity::texture</a></div><div class="ttdeci">SDL_Texture * texture</div><div class="ttdoc">Texture principale de l'entité</div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00033">entity.h:33</a></div></div>
<div class="ttc" id="astructs__entity_html_ab32de8dafe68ef4a46819b248621598b"><div class="ttname"><a href="structs__entity.html#ab32de8dafe68ef4a46819b248621598b">s_entity::debug</a></div><div class="ttdeci">SDL_bool debug</div><div class="ttdoc">Active/désactive les affichages de débogage.</div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00036">entity.h:36</a></div></div>
<div class="ttc" id="astructs__entity_html_acaca78d8d3ac42a3b6ef8aa6f3153e44"><div class="ttname"><a href="structs__entity.html#acaca78d8d3ac42a3b6ef8aa6f3153e44">s_entity::physics</a></div><div class="ttdeci">t_physics physics</div><div class="ttdoc">Composant physique de l'entité</div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00031">entity.h:31</a></div></div>
<div class="ttc" id="astructs__entity_html_ae878f8bd76f99e1e7d7ee00f6345dbca"><div class="ttname"><a href="structs__entity.html#ae878f8bd76f99e1e7d7ee00f6345dbca">s_entity::useCircleCollision</a></div><div class="ttdeci">SDL_bool useCircleCollision</div><div class="ttdoc">Indicateur pour utiliser le cercle de collision.</div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00029">entity.h:29</a></div></div>
<div class="ttc" id="astructs__entity_html_afb80ffdccd1d1e4b47c52d2e6eed697e"><div class="ttname"><a href="structs__entity.html#afb80ffdccd1d1e4b47c52d2e6eed697e">s_entity::animationController</a></div><div class="ttdeci">t_animationController * animationController</div><div class="ttdoc">Contrôleur d'animations.</div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00034">entity.h:34</a></div></div>
<div class="ttc" id="astructs__entity_html_afd2f866f64dc9091e4c989d5e92a21a2"><div class="ttname"><a href="structs__entity.html#afd2f866f64dc9091e4c989d5e92a21a2">s_entity::collisionCircle</a></div><div class="ttdeci">t_circle collisionCircle</div><div class="ttdoc">Position et taille pour les collisions circulaires.</div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00028">entity.h:28</a></div></div>
<div class="ttc" id="astructs__entity_html_aff5382dbfeddafc18d0582c032bd1f7c"><div class="ttname"><a href="structs__entity.html#aff5382dbfeddafc18d0582c032bd1f7c">s_entity::displayRect</a></div><div class="ttdeci">SDL_Rect displayRect</div><div class="ttdoc">Position et taille pour l'affichage.</div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00025">entity.h:25</a></div></div>
<div class="ttc" id="astructs__grid_html"><div class="ttname"><a href="structs__grid.html">s_grid</a></div><div class="ttdoc">Représente une grille 3D de tuiles pour un niveau.</div><div class="ttdef"><b>Definition:</b> <a href="tiles_8h_source.html#l00038">tiles.h:38</a></div></div>
<div class="ttc" id="astructs__health_system_html_a1dc7fd5587318a5bc1f46d287abade7e"><div class="ttname"><a href="structs__health_system.html#a1dc7fd5587318a5bc1f46d287abade7e">s_healthSystem::invincibilityTimer</a></div><div class="ttdeci">t_deltaTimer * invincibilityTimer</div><div class="ttdoc">Timer pour l'invincibilité</div><div class="ttdef"><b>Definition:</b> <a href="health_8h_source.html#l00035">health.h:35</a></div></div>
<div class="ttc" id="astructs__health_system_html_a364b9f3dad940fb121461c314bafb3d4"><div class="ttname"><a href="structs__health_system.html#a364b9f3dad940fb121461c314bafb3d4">s_healthSystem::isDead</a></div><div class="ttdeci">SDL_bool isDead</div><div class="ttdoc">Indique si l'entité est morte.</div><div class="ttdef"><b>Definition:</b> <a href="health_8h_source.html#l00038">health.h:38</a></div></div>
<div class="ttc" id="astructs__health_system_html_a4784b748667365941b9035c1b1aa4d6c"><div class="ttname"><a href="structs__health_system.html#a4784b748667365941b9035c1b1aa4d6c">s_healthSystem::isFlashing</a></div><div class="ttdeci">SDL_bool isFlashing</div><div class="ttdoc">Indique si l'entité clignote (effet de dégât)</div><div class="ttdef"><b>Definition:</b> <a href="health_8h_source.html#l00030">health.h:30</a></div></div>
<div class="ttc" id="astructs__health_system_html_a53d16357c4c34a9a705daa267ff8050e"><div class="ttname"><a href="structs__health_system.html#a53d16357c4c34a9a705daa267ff8050e">s_healthSystem::isInvincible</a></div><div class="ttdeci">SDL_bool isInvincible</div><div class="ttdoc">Indique si l'entité est invincible.</div><div class="ttdef"><b>Definition:</b> <a href="health_8h_source.html#l00034">health.h:34</a></div></div>
<div class="ttc" id="astructs__health_system_html_af8c04013cfb0444c405822e9939d8ae6"><div class="ttname"><a href="structs__health_system.html#af8c04013cfb0444c405822e9939d8ae6">s_healthSystem::currentHealth</a></div><div class="ttdeci">int currentHealth</div><div class="ttdoc">Points de vie actuels.</div><div class="ttdef"><b>Definition:</b> <a href="health_8h_source.html#l00020">health.h:20</a></div></div>
<div class="ttc" id="astructs__health_system_html_afa3c4cbe95c95ff9cd8bdc9e4cec4a5f"><div class="ttname"><a href="structs__health_system.html#afa3c4cbe95c95ff9cd8bdc9e4cec4a5f">s_healthSystem::maxHealth</a></div><div class="ttdeci">int maxHealth</div><div class="ttdoc">Points de vie maximum.</div><div class="ttdef"><b>Definition:</b> <a href="health_8h_source.html#l00021">health.h:21</a></div></div>
<div class="ttc" id="astructs__joueur_html"><div class="ttname"><a href="structs__joueur.html">s_joueur</a></div><div class="ttdoc">Référence au type joueur pour éviter les inclusions circulaires.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00080">player.h:80</a></div></div>
<div class="ttc" id="astructs__joueur_html_a01c50d3b355e07b04ab38ca39fbbeef3"><div class="ttname"><a href="structs__joueur.html#a01c50d3b355e07b04ab38ca39fbbeef3">s_joueur::equipement</a></div><div class="ttdeci">t_equipementSlotType equipement[TOTAL_EQUIPMENT_SLOTS]</div><div class="ttdoc">Équipement actuel.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00091">player.h:91</a></div></div>
<div class="ttc" id="astructs__joueur_html_a0c0c22c46656774a8d05c167de8152a7"><div class="ttname"><a href="structs__joueur.html#a0c0c22c46656774a8d05c167de8152a7">s_joueur::calculatedStats</a></div><div class="ttdeci">t_stats calculatedStats</div><div class="ttdoc">Statistiques calculées avec équipement.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00089">player.h:89</a></div></div>
<div class="ttc" id="astructs__joueur_html_a0ca625a4d261647f9aab3d35cb104080"><div class="ttname"><a href="structs__joueur.html#a0ca625a4d261647f9aab3d35cb104080">s_joueur::attack</a></div><div class="ttdeci">t_attack attack</div><div class="ttdoc">État de l'attaque en cours.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00102">player.h:102</a></div></div>
<div class="ttc" id="astructs__joueur_html_a12351b93415a5c2dd94a9cf2413d18b7"><div class="ttname"><a href="structs__joueur.html#a12351b93415a5c2dd94a9cf2413d18b7">s_joueur::gold</a></div><div class="ttdeci">int gold</div><div class="ttdoc">Or possédé</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00097">player.h:97</a></div></div>
<div class="ttc" id="astructs__joueur_html_a17bef51545f242d210cb157423f42c96"><div class="ttname"><a href="structs__joueur.html#a17bef51545f242d210cb157423f42c96">s_joueur::entity</a></div><div class="ttdeci">t_entity entity</div><div class="ttdoc">Entité de base héritée.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00081">player.h:81</a></div></div>
<div class="ttc" id="astructs__joueur_html_a3693fea77b365593f33b31fa9af5e938"><div class="ttname"><a href="structs__joueur.html#a3693fea77b365593f33b31fa9af5e938">s_joueur::particleEmitter</a></div><div class="ttdeci">t_particleEmitter * particleEmitter</div><div class="ttdoc">Émetteur de particules.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00085">player.h:85</a></div></div>
<div class="ttc" id="astructs__joueur_html_a9554b1ce6c813b2988245ac532bf658c"><div class="ttname"><a href="structs__joueur.html#a9554b1ce6c813b2988245ac532bf658c">s_joueur::xp</a></div><div class="ttdeci">int xp</div><div class="ttdoc">Points d'expérience actuels.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00095">player.h:95</a></div></div>
<div class="ttc" id="astructs__joueur_html_a961a80946d0f9a9fbb425ed0e0f73879"><div class="ttname"><a href="structs__joueur.html#a961a80946d0f9a9fbb425ed0e0f73879">s_joueur::control</a></div><div class="ttdeci">t_control * control</div><div class="ttdoc">Configuration des contrôles.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00082">player.h:82</a></div></div>
<div class="ttc" id="astructs__joueur_html_aa1f0e0b0b5cde6070983b7210b25e0ec"><div class="ttname"><a href="structs__joueur.html#aa1f0e0b0b5cde6070983b7210b25e0ec">s_joueur::currentWeapon</a></div><div class="ttdeci">t_arme * currentWeapon</div><div class="ttdoc">Arme actuellement équipée.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00099">player.h:99</a></div></div>
<div class="ttc" id="astructs__joueur_html_aacb46876904d592518623fabf006b5c2"><div class="ttname"><a href="structs__joueur.html#aacb46876904d592518623fabf006b5c2">s_joueur::inventaire</a></div><div class="ttdeci">t_inventaire * inventaire</div><div class="ttdoc">Inventaire du joueur.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00092">player.h:92</a></div></div>
<div class="ttc" id="astructs__joueur_html_aae000252c0ccd4fa057448d2c3b79bdf"><div class="ttname"><a href="structs__joueur.html#aae000252c0ccd4fa057448d2c3b79bdf">s_joueur::dash</a></div><div class="ttdeci">t_dash dash</div><div class="ttdoc">Système de dash (esquive)</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00083">player.h:83</a></div></div>
<div class="ttc" id="astructs__joueur_html_ab4bc9e1fd9102aeaaa3b40db20af87c4"><div class="ttname"><a href="structs__joueur.html#ab4bc9e1fd9102aeaaa3b40db20af87c4">s_joueur::baseStats</a></div><div class="ttdeci">t_stats baseStats</div><div class="ttdoc">Statistiques de base.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00088">player.h:88</a></div></div>
<div class="ttc" id="astructs__joueur_html_acf4d33ee4cff36f69b924471174dcb11"><div class="ttname"><a href="structs__joueur.html#acf4d33ee4cff36f69b924471174dcb11">s_joueur::level</a></div><div class="ttdeci">int level</div><div class="ttdoc">Niveau actuel du joueur.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00094">player.h:94</a></div></div>
<div class="ttc" id="astructs__joueur_html_ad0851fd0d02bf2b14381fbf23b08b0c2"><div class="ttname"><a href="structs__joueur.html#ad0851fd0d02bf2b14381fbf23b08b0c2">s_joueur::xpToNextLevel</a></div><div class="ttdeci">int xpToNextLevel</div><div class="ttdoc">XP requis pour le prochain niveau.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00096">player.h:96</a></div></div>
<div class="ttc" id="astructs__joueur_html_ae4796e2cdb69c9093350ab151a7ef3e3"><div class="ttname"><a href="structs__joueur.html#ae4796e2cdb69c9093350ab151a7ef3e3">s_joueur::indexOffset</a></div><div class="ttdeci">int indexOffset</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00086">player.h:86</a></div></div>
<div class="ttc" id="astructs__joueur_html_ae9d8af26c1cf479c756e09a86f622c0d"><div class="ttname"><a href="structs__joueur.html#ae9d8af26c1cf479c756e09a86f622c0d">s_joueur::aimAngle</a></div><div class="ttdeci">float aimAngle</div><div class="ttdoc">Angle de visée en radians.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00103">player.h:103</a></div></div>
<div class="ttc" id="astructs__joueur_html_af5ceaecdf647be5c8b1225682d0a3635"><div class="ttname"><a href="structs__joueur.html#af5ceaecdf647be5c8b1225682d0a3635">s_joueur::health</a></div><div class="ttdeci">t_healthSystem health</div><div class="ttdoc">Système de gestion de la santé</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00084">player.h:84</a></div></div>
<div class="ttc" id="astructt__arme_html"><div class="ttname"><a href="structt__arme.html">t_arme</a></div><div class="ttdoc">Représente une arme avec ses propriétés et attributs.</div><div class="ttdef"><b>Definition:</b> <a href="weapon_8h_source.html#l00019">weapon.h:19</a></div></div>
<div class="ttc" id="astructt__arme_html_a16e093e75a60cf5776ce5848a30a1d67"><div class="ttname"><a href="structt__arme.html#a16e093e75a60cf5776ce5848a30a1d67">t_arme::angleAttack</a></div><div class="ttdeci">float angleAttack</div><div class="ttdoc">Angle de l'arc d'attaque en radians.</div><div class="ttdef"><b>Definition:</b> <a href="weapon_8h_source.html#l00023">weapon.h:23</a></div></div>
<div class="ttc" id="astructt__arme_html_a27d5eb61a996b570f818bbf65d66edc7"><div class="ttname"><a href="structt__arme.html#a27d5eb61a996b570f818bbf65d66edc7">t_arme::damage</a></div><div class="ttdeci">float damage</div><div class="ttdoc">Dégâts infligés par l'arme.</div><div class="ttdef"><b>Definition:</b> <a href="weapon_8h_source.html#l00021">weapon.h:21</a></div></div>
<div class="ttc" id="astructt__arme_html_a3930d1e8af0848833f4de0e0e9517dca"><div class="ttname"><a href="structt__arme.html#a3930d1e8af0848833f4de0e0e9517dca">t_arme::range</a></div><div class="ttdeci">float range</div><div class="ttdoc">Portée de l'arme en pixels.</div><div class="ttdef"><b>Definition:</b> <a href="weapon_8h_source.html#l00022">weapon.h:22</a></div></div>
<div class="ttc" id="astructt__arme_html_a4d014b2489270be302d1e8849f37db67"><div class="ttname"><a href="structt__arme.html#a4d014b2489270be302d1e8849f37db67">t_arme::attackDuration</a></div><div class="ttdeci">float attackDuration</div><div class="ttdoc">Durée d'une attaque en secondes.</div><div class="ttdef"><b>Definition:</b> <a href="weapon_8h_source.html#l00024">weapon.h:24</a></div></div>
<div class="ttc" id="astructt__arme_html_a7b2fa2b4300edd7ec1c54209a6a20258"><div class="ttname"><a href="structt__arme.html#a7b2fa2b4300edd7ec1c54209a6a20258">t_arme::mass</a></div><div class="ttdeci">float mass</div><div class="ttdoc">Masse de l'arme (affecte la vitesse d'attaque)</div><div class="ttdef"><b>Definition:</b> <a href="weapon_8h_source.html#l00020">weapon.h:20</a></div></div>
<div class="ttc" id="astructt__arme_html_a83f0ef4166f1a14e656990c630b53a82"><div class="ttname"><a href="structt__arme.html#a83f0ef4166f1a14e656990c630b53a82">t_arme::attackCooldown</a></div><div class="ttdeci">float attackCooldown</div><div class="ttdoc">Temps de récupération entre deux attaques.</div><div class="ttdef"><b>Definition:</b> <a href="weapon_8h_source.html#l00025">weapon.h:25</a></div></div>
<div class="ttc" id="astructt__arme_html_aff5382dbfeddafc18d0582c032bd1f7c"><div class="ttname"><a href="structt__arme.html#aff5382dbfeddafc18d0582c032bd1f7c">t_arme::displayRect</a></div><div class="ttdeci">SDL_Rect displayRect</div><div class="ttdoc">Rectangle source pour l'affichage.</div><div class="ttdef"><b>Definition:</b> <a href="weapon_8h_source.html#l00029">weapon.h:29</a></div></div>
<div class="ttc" id="astructt__attack_html"><div class="ttname"><a href="structt__attack.html">t_attack</a></div><div class="ttdoc">Gère l'état et les propriétés d'une attaque du joueur.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00035">player.h:35</a></div></div>
<div class="ttc" id="astructt__attack_html_a1fd4766bea9f82be38a4550e8d144952"><div class="ttname"><a href="structt__attack.html#a1fd4766bea9f82be38a4550e8d144952">t_attack::hit_distance</a></div><div class="ttdeci">float hit_distance</div><div class="ttdoc">Distance du dernier hit pour l'effet de tremblement d'écran.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00041">player.h:41</a></div></div>
<div class="ttc" id="astructt__attack_html_a27ebc3e42dd7906192afc51396be6e15"><div class="ttname"><a href="structt__attack.html#a27ebc3e42dd7906192afc51396be6e15">t_attack::timeSlowDuration</a></div><div class="ttdeci">float timeSlowDuration</div><div class="ttdoc">Durée du ralentissement du temps.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00044">player.h:44</a></div></div>
<div class="ttc" id="astructt__attack_html_a595a0a9027613f5a3cc084a1b16eb0b7"><div class="ttname"><a href="structt__attack.html#a595a0a9027613f5a3cc084a1b16eb0b7">t_attack::timeSlowRemaining</a></div><div class="ttdeci">float timeSlowRemaining</div><div class="ttdoc">Temps restant de ralentissement.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00045">player.h:45</a></div></div>
<div class="ttc" id="astructt__attack_html_a6b273a647bfe2b739c6c4af21a8f9fc3"><div class="ttname"><a href="structt__attack.html#a6b273a647bfe2b739c6c4af21a8f9fc3">t_attack::isActive</a></div><div class="ttdeci">SDL_bool isActive</div><div class="ttdoc">Indique si une attaque est en cours.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00036">player.h:36</a></div></div>
<div class="ttc" id="astructt__attack_html_a7c9ff4070feeb45b288c98437facaf44"><div class="ttname"><a href="structt__attack.html#a7c9ff4070feeb45b288c98437facaf44">t_attack::nbHits</a></div><div class="ttdeci">int nbHits</div><div class="ttdoc">Nombre d'entités touchées par l'attaque en cours.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00040">player.h:40</a></div></div>
<div class="ttc" id="astructt__attack_html_a965b98e0334651be11fd52f4e8829b8b"><div class="ttname"><a href="structt__attack.html#a965b98e0334651be11fd52f4e8829b8b">t_attack::hitBox</a></div><div class="ttdeci">t_sector hitBox</div><div class="ttdoc">Secteur d'attaque (origine, angles, portée)</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00039">player.h:39</a></div></div>
<div class="ttc" id="astructt__attack_html_a9c7ea52134aad689c93d64114edb8524"><div class="ttname"><a href="structt__attack.html#a9c7ea52134aad689c93d64114edb8524">t_attack::timeSlowFactor</a></div><div class="ttdeci">float timeSlowFactor</div><div class="ttdoc">Facteur de ralentissement du temps lors d'un hit.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00043">player.h:43</a></div></div>
<div class="ttc" id="astructt__attack_html_ac7abb4766cd3f65c31f56279d7decff8"><div class="ttname"><a href="structt__attack.html#ac7abb4766cd3f65c31f56279d7decff8">t_attack::progress</a></div><div class="ttdeci">float progress</div><div class="ttdoc">Progression de l'attaque (0.0 à 1.0)</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00038">player.h:38</a></div></div>
<div class="ttc" id="astructt__attack_html_aca09286cd8b3d4183f0d74bad38fff6e"><div class="ttname"><a href="structt__attack.html#aca09286cd8b3d4183f0d74bad38fff6e">t_attack::cooldown</a></div><div class="ttdeci">float cooldown</div><div class="ttdoc">Temps de récupération entre deux attaques.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00037">player.h:37</a></div></div>
<div class="ttc" id="astructt__camera_html"><div class="ttname"><a href="structt__camera.html">t_camera</a></div><div class="ttdoc">Représente une caméra 2D pour naviguer dans un niveau.</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00022">camera.h:22</a></div></div>
<div class="ttc" id="astructt__circle_html_a5050a760c11da521cd4aee6336f6529f"><div class="ttname"><a href="structt__circle.html#a5050a760c11da521cd4aee6336f6529f">t_circle::radius</a></div><div class="ttdeci">float radius</div><div class="ttdoc">Rayon du cercle.</div><div class="ttdef"><b>Definition:</b> <a href="core_8h_source.html#l00017">core.h:17</a></div></div>
<div class="ttc" id="astructt__circle_html_aa4f0d3eebc3c443f9be81bf48561a217"><div class="ttname"><a href="structt__circle.html#aa4f0d3eebc3c443f9be81bf48561a217">t_circle::y</a></div><div class="ttdeci">float y</div><div class="ttdoc">Position du centre du cercle.</div><div class="ttdef"><b>Definition:</b> <a href="core_8h_source.html#l00016">core.h:16</a></div></div>
<div class="ttc" id="astructt__circle_html_ad0da36b2558901e21e7a30f6c227a45e"><div class="ttname"><a href="structt__circle.html#ad0da36b2558901e21e7a30f6c227a45e">t_circle::x</a></div><div class="ttdeci">float x</div><div class="ttdef"><b>Definition:</b> <a href="core_8h_source.html#l00016">core.h:16</a></div></div>
<div class="ttc" id="astructt__context_html"><div class="ttname"><a href="structt__context.html">t_context</a></div><div class="ttdoc">Contient le contexte global du jeu.</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00072">context.h:72</a></div></div>
<div class="ttc" id="astructt__context_html_a922f92cbdc4ee6e7863f5464d47cebd7"><div class="ttname"><a href="structt__context.html#a922f92cbdc4ee6e7863f5464d47cebd7">t_context::sceneController</a></div><div class="ttdeci">t_sceneController * sceneController</div><div class="ttdoc">Contrôleur de scènes.</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00080">context.h:80</a></div></div>
<div class="ttc" id="astructt__control_html"><div class="ttname"><a href="structt__control.html">t_control</a></div><div class="ttdoc">Contient les configurations des touches de contrôle.</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00045">context.h:45</a></div></div>
<div class="ttc" id="astructt__control_html_a0ef5e67f26b698bd87b8e3348f927133"><div class="ttname"><a href="structt__control.html#a0ef5e67f26b698bd87b8e3348f927133">t_control::down</a></div><div class="ttdeci">SDL_Scancode down</div><div class="ttdoc">Touche pour se déplacer vers le bas.</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00047">context.h:47</a></div></div>
<div class="ttc" id="astructt__control_html_a597eee70216696243fb8a3838b060acb"><div class="ttname"><a href="structt__control.html#a597eee70216696243fb8a3838b060acb">t_control::escape</a></div><div class="ttdeci">SDL_Scancode escape</div><div class="ttdoc">Touche pour mettre le jeux en pause.</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00051">context.h:51</a></div></div>
<div class="ttc" id="astructt__control_html_a5e5a1d8015bc52311a77f082abfbe044"><div class="ttname"><a href="structt__control.html#a5e5a1d8015bc52311a77f082abfbe044">t_control::up</a></div><div class="ttdeci">SDL_Scancode up</div><div class="ttdoc">Touche pour se déplacer vers le haut.</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00046">context.h:46</a></div></div>
<div class="ttc" id="astructt__control_html_a6df204f5a7c84d6c1b78e67971e6c1a7"><div class="ttname"><a href="structt__control.html#a6df204f5a7c84d6c1b78e67971e6c1a7">t_control::inventaire</a></div><div class="ttdeci">SDL_Scancode inventaire</div><div class="ttdoc">Touche pour ouvrir l'inventaire.</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00054">context.h:54</a></div></div>
<div class="ttc" id="astructt__control_html_a91131251072497dcfaf60be182e70b74"><div class="ttname"><a href="structt__control.html#a91131251072497dcfaf60be182e70b74">t_control::dash</a></div><div class="ttdeci">SDL_Scancode dash</div><div class="ttdoc">Touche pour effectuer un dash.</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00050">context.h:50</a></div></div>
<div class="ttc" id="astructt__control_html_abae87f422e3790f1f57cfb0a47b4ccd4"><div class="ttname"><a href="structt__control.html#abae87f422e3790f1f57cfb0a47b4ccd4">t_control::right</a></div><div class="ttdeci">SDL_Scancode right</div><div class="ttdoc">Touche pour se déplacer vers la droite.</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00049">context.h:49</a></div></div>
<div class="ttc" id="astructt__control_html_ad3da6ac33ecf340b0931948842e723b6"><div class="ttname"><a href="structt__control.html#ad3da6ac33ecf340b0931948842e723b6">t_control::left</a></div><div class="ttdeci">SDL_Scancode left</div><div class="ttdoc">Touche pour se déplacer vers la gauche.</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00048">context.h:48</a></div></div>
<div class="ttc" id="astructt__control_html_ae78b5fd1c7fc2d85078525aa5f1a3bc1"><div class="ttname"><a href="structt__control.html#ae78b5fd1c7fc2d85078525aa5f1a3bc1">t_control::map</a></div><div class="ttdeci">SDL_Scancode map</div><div class="ttdoc">Touche pour afficher la carte.</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00052">context.h:52</a></div></div>
<div class="ttc" id="astructt__dash_html"><div class="ttname"><a href="structt__dash.html">t_dash</a></div><div class="ttdoc">Gère l'état et les propriétés d'un dash (esquive rapide)</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00052">player.h:52</a></div></div>
<div class="ttc" id="astructt__dash_html_a187d446381dc0d93ab0dfc422246a76c"><div class="ttname"><a href="structt__dash.html#a187d446381dc0d93ab0dfc422246a76c">t_dash::cooldownTimer</a></div><div class="ttdeci">t_timer * cooldownTimer</div><div class="ttdoc">Timer pour gérer le temps de récupération.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00056">player.h:56</a></div></div>
<div class="ttc" id="astructt__dash_html_a52ef600ecb6e1c2cbbc51a1311197fb4"><div class="ttname"><a href="structt__dash.html#a52ef600ecb6e1c2cbbc51a1311197fb4">t_dash::trailSpawnInterval</a></div><div class="ttdeci">float trailSpawnInterval</div><div class="ttdoc">Intervalle de temps entre les captures de position.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00069">player.h:69</a></div></div>
<div class="ttc" id="astructt__dash_html_a55ed7f059096d0b2bee27fea09c7b9c2"><div class="ttname"><a href="structt__dash.html#a55ed7f059096d0b2bee27fea09c7b9c2">t_dash::cooldownTime</a></div><div class="ttdeci">Uint32 cooldownTime</div><div class="ttdoc">Temps de récupération en millisecondes.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00057">player.h:57</a></div></div>
<div class="ttc" id="astructt__dash_html_a66625d8d6c0894b4828b43f826a09b8f"><div class="ttname"><a href="structt__dash.html#a66625d8d6c0894b4828b43f826a09b8f">t_dash::duration</a></div><div class="ttdeci">float duration</div><div class="ttdoc">Durée du dash en secondes.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00054">player.h:54</a></div></div>
<div class="ttc" id="astructt__dash_html_a6b273a647bfe2b739c6c4af21a8f9fc3"><div class="ttname"><a href="structt__dash.html#a6b273a647bfe2b739c6c4af21a8f9fc3">t_dash::isActive</a></div><div class="ttdeci">SDL_bool isActive</div><div class="ttdoc">Indique si le dash est actif.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00053">player.h:53</a></div></div>
<div class="ttc" id="astructt__dash_html_a6f4dca6b48529c4d3dade0e8d46f4e43"><div class="ttname"><a href="structt__dash.html#a6f4dca6b48529c4d3dade0e8d46f4e43">t_dash::opacity</a></div><div class="ttdeci">float opacity</div><div class="ttdoc">Opacité de l'image (0.0 à 1.0)</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00066">player.h:66</a></div></div>
<div class="ttc" id="astructt__dash_html_a7bfff822afd624221c15fdbc9790f595"><div class="ttname"><a href="structt__dash.html#a7bfff822afd624221c15fdbc9790f595">t_dash::speedMultiplier</a></div><div class="ttdeci">float speedMultiplier</div><div class="ttdoc">Multiplicateur de vitesse pendant le dash.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00055">player.h:55</a></div></div>
<div class="ttc" id="astructt__dash_html_a7f45e916d4fd291aaaa8a1423e88a68b"><div class="ttname"><a href="structt__dash.html#a7f45e916d4fd291aaaa8a1423e88a68b">t_dash::timeSinceLastTrail</a></div><div class="ttdeci">float timeSinceLastTrail</div><div class="ttdoc">Temps écoulé depuis la dernière capture.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00070">player.h:70</a></div></div>
<div class="ttc" id="astructt__dash_html_a898fd30610077edd22c6eb7476548ed0"><div class="ttname"><a href="structt__dash.html#a898fd30610077edd22c6eb7476548ed0">t_dash::position</a></div><div class="ttdeci">SDL_Point position</div><div class="ttdoc">Position d'une image résiduelle.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00064">player.h:64</a></div></div>
<div class="ttc" id="astructt__dash_html_a91d11e0053e8e778bd8811e35fc5f7be"><div class="ttname"><a href="structt__dash.html#a91d11e0053e8e778bd8811e35fc5f7be">t_dash::trails</a></div><div class="ttdeci">struct t_dash::@0 trails[DASH_TRAIL_COUNT]</div><div class="ttdoc">Tableau des positions de traînée.</div></div>
<div class="ttc" id="astructt__dash_html_ac4bb71b9d8ed4dfb153501918cd6ca52"><div class="ttname"><a href="structt__dash.html#ac4bb71b9d8ed4dfb153501918cd6ca52">t_dash::active</a></div><div class="ttdeci">SDL_bool active</div><div class="ttdoc">Indique si cette image est active.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00065">player.h:65</a></div></div>
<div class="ttc" id="astructt__enemy_html"><div class="ttname"><a href="structt__enemy.html">t_enemy</a></div><div class="ttdoc">Structure de base pour tous les ennemis.</div><div class="ttdef"><b>Definition:</b> <a href="enemy_8h_source.html#l00027">enemy.h:27</a></div></div>
<div class="ttc" id="astructt__equipement_slot_type_html_ad0cc10b446f75310760d4b4e4658aa79"><div class="ttname"><a href="structt__equipement_slot_type.html#ad0cc10b446f75310760d4b4e4658aa79">t_equipementSlotType::stack</a></div><div class="ttdeci">t_itemsStack * stack</div><div class="ttdoc">Item équipé</div><div class="ttdef"><b>Definition:</b> <a href="equipements_manager_8h_source.html#l00102">equipementsManager.h:102</a></div></div>
<div class="ttc" id="astructt__input_html"><div class="ttname"><a href="structt__input.html">t_input</a></div><div class="ttdoc">Contient l'état actuel du clavier, de la souris et de la fenêtre.</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00017">input.h:17</a></div></div>
<div class="ttc" id="astructt__input_html_a3637abebcaa9d04aa18b1610d0921e16"><div class="ttname"><a href="structt__input.html#a3637abebcaa9d04aa18b1610d0921e16">t_input::mouseY</a></div><div class="ttdeci">int mouseY</div><div class="ttdoc">Position X/Y de la souris en pixels écran.</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00021">input.h:21</a></div></div>
<div class="ttc" id="astructt__input_html_a85ea1b63086b31a15d3ed2579c5715a6"><div class="ttname"><a href="structt__input.html#a85ea1b63086b31a15d3ed2579c5715a6">t_input::mouseX</a></div><div class="ttdeci">int mouseX</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00021">input.h:21</a></div></div>
<div class="ttc" id="astructt__input_html_a9a94d2a981b6ff871ec8082f6acb2704"><div class="ttname"><a href="structt__input.html#a9a94d2a981b6ff871ec8082f6acb2704">t_input::mouseButtons</a></div><div class="ttdeci">SDL_bool mouseButtons[6]</div><div class="ttdoc">Etat des boutons souris (0-5 pour les 6 boutons SDL)</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00023">input.h:23</a></div></div>
<div class="ttc" id="astructt__input_html_ac39ae970d4cf3c53c516a6b70c013abd"><div class="ttname"><a href="structt__input.html#ac39ae970d4cf3c53c516a6b70c013abd">t_input::key</a></div><div class="ttdeci">int key[SDL_NUM_SCANCODES]</div><div class="ttdoc">Touches clavier à l'index SDL_SCANCODE.</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00018">input.h:18</a></div></div>
<div class="ttc" id="astructt__object_manager_html"><div class="ttname"><a href="structt__object_manager.html">t_objectManager</a></div><div class="ttdoc">Gestionnaire des objets.</div></div>
<div class="ttc" id="astructt__physics_html"><div class="ttname"><a href="structt__physics.html">t_physics</a></div><div class="ttdoc">Composant de physique pour les entités.</div><div class="ttdef"><b>Definition:</b> <a href="physics_8h_source.html#l00022">physics.h:22</a></div></div>
<div class="ttc" id="astructt__physics_html_a585bd15db005143bac988d78710e4e93"><div class="ttname"><a href="structt__physics.html#a585bd15db005143bac988d78710e4e93">t_physics::friction</a></div><div class="ttdeci">float friction</div><div class="ttdoc">Frottement (pour ralentir l'entité)</div><div class="ttdef"><b>Definition:</b> <a href="physics_8h_source.html#l00025">physics.h:25</a></div></div>
<div class="ttc" id="astructt__physics_html_a60b0a6fd3f3f74891eb88685c7e89d4e"><div class="ttname"><a href="structt__physics.html#a60b0a6fd3f3f74891eb88685c7e89d4e">t_physics::velocity</a></div><div class="ttdeci">SDL_FPoint velocity</div><div class="ttdoc">Vélocité actuelle (x,y)</div><div class="ttdef"><b>Definition:</b> <a href="physics_8h_source.html#l00023">physics.h:23</a></div></div>
<div class="ttc" id="astructt__salle_html"><div class="ttname"><a href="structt__salle.html">t_salle</a></div><div class="ttdef"><b>Definition:</b> <a href="genmap_8h_source.html#l00014">genmap.h:14</a></div></div>
<div class="ttc" id="astructt__salle_html_a26311da258081f1cc4a42e0d6092966d"><div class="ttname"><a href="structt__salle.html#a26311da258081f1cc4a42e0d6092966d">t_salle::grille</a></div><div class="ttdeci">t_grid * grille</div><div class="ttdef"><b>Definition:</b> <a href="genmap_8h_source.html#l00021">genmap.h:21</a></div></div>
<div class="ttc" id="astructt__scene_controller_html"><div class="ttname"><a href="structt__scene_controller.html">t_sceneController</a></div><div class="ttdoc">Contrôleur central des scènes.</div><div class="ttdef"><b>Definition:</b> <a href="fscene_8h_source.html#l00081">fscene.h:81</a></div></div>
<div class="ttc" id="astructt__scene_controller_html_a22005c9db504a7ad994bde4761133d70"><div class="ttname"><a href="structt__scene_controller.html#a22005c9db504a7ad994bde4761133d70">t_sceneController::scene</a></div><div class="ttdeci">t_objectManager * scene</div><div class="ttdoc">Gestionnaire de scènes.</div><div class="ttdef"><b>Definition:</b> <a href="fscene_8h_source.html#l00082">fscene.h:82</a></div></div>
<div class="ttc" id="astructt__scene_controller_html_a82732129fbf528166c02577c695a58aa"><div class="ttname"><a href="structt__scene_controller.html#a82732129fbf528166c02577c695a58aa">t_sceneController::lastMap</a></div><div class="ttdeci">t_scene * lastMap</div><div class="ttdoc">Dernière salle du niveau visitée.</div><div class="ttdef"><b>Definition:</b> <a href="fscene_8h_source.html#l00084">fscene.h:84</a></div></div>
<div class="ttc" id="astructt__scene_controller_html_ab5d749becb5ee7c3493c35c1dbe4e9d5"><div class="ttname"><a href="structt__scene_controller.html#ab5d749becb5ee7c3493c35c1dbe4e9d5">t_sceneController::currentScene</a></div><div class="ttdeci">int currentScene</div><div class="ttdoc">Index de la scène courante.</div><div class="ttdef"><b>Definition:</b> <a href="fscene_8h_source.html#l00083">fscene.h:83</a></div></div>
<div class="ttc" id="astructt__scene_html"><div class="ttname"><a href="structt__scene.html">t_scene</a></div><div class="ttdoc">Représente une scène composée d'objets.</div><div class="ttdef"><b>Definition:</b> <a href="fscene_8h_source.html#l00061">fscene.h:61</a></div></div>
<div class="ttc" id="astructt__sector_html_a13e9b6cb8d65d6b5e97cc95e4f7048e1"><div class="ttname"><a href="structt__sector.html#a13e9b6cb8d65d6b5e97cc95e4f7048e1">t_sector::endAngle</a></div><div class="ttdeci">float endAngle</div><div class="ttdoc">Angle de fin en radians.</div><div class="ttdef"><b>Definition:</b> <a href="core_8h_source.html#l00027">core.h:27</a></div></div>
<div class="ttc" id="astructt__sector_html_a5050a760c11da521cd4aee6336f6529f"><div class="ttname"><a href="structt__sector.html#a5050a760c11da521cd4aee6336f6529f">t_sector::radius</a></div><div class="ttdeci">float radius</div><div class="ttdoc">Portée du secteur.</div><div class="ttdef"><b>Definition:</b> <a href="core_8h_source.html#l00028">core.h:28</a></div></div>
<div class="ttc" id="astructt__sector_html_a579ad9c19c810b7932838c8d469aee61"><div class="ttname"><a href="structt__sector.html#a579ad9c19c810b7932838c8d469aee61">t_sector::startAngle</a></div><div class="ttdeci">float startAngle</div><div class="ttdoc">Angle de départ en radians.</div><div class="ttdef"><b>Definition:</b> <a href="core_8h_source.html#l00026">core.h:26</a></div></div>
<div class="ttc" id="astructt__sector_html_adde45d912201d38423e638a92057e10b"><div class="ttname"><a href="structt__sector.html#adde45d912201d38423e638a92057e10b">t_sector::origin</a></div><div class="ttdeci">SDL_FPoint origin</div><div class="ttdoc">Point d'origine du secteur.</div><div class="ttdef"><b>Definition:</b> <a href="core_8h_source.html#l00025">core.h:25</a></div></div>
<div class="ttc" id="astructt__stat_modifier_html_a4c332afafdeed656ec1b54a48a732578"><div class="ttname"><a href="structt__stat_modifier.html#a4c332afafdeed656ec1b54a48a732578">t_statModifier::additive</a></div><div class="ttdeci">float additive</div><div class="ttdoc">Bonus additif.</div><div class="ttdef"><b>Definition:</b> <a href="equipements_manager_8h_source.html#l00041">equipementsManager.h:41</a></div></div>
<div class="ttc" id="astructt__stat_modifier_html_a5284cd2d104fd82819d2a5f796790aa5"><div class="ttname"><a href="structt__stat_modifier.html#a5284cd2d104fd82819d2a5f796790aa5">t_statModifier::multiplicative</a></div><div class="ttdeci">float multiplicative</div><div class="ttdoc">Bonus multiplicatif.</div><div class="ttdef"><b>Definition:</b> <a href="equipements_manager_8h_source.html#l00042">equipementsManager.h:42</a></div></div>
<div class="ttc" id="astructt__stats_html_a8cf2c73358042a1df7c0f81b938dd922"><div class="ttname"><a href="structt__stats.html#a8cf2c73358042a1df7c0f81b938dd922">t_stats::attack</a></div><div class="ttdeci">t_statModifier attack</div><div class="ttdoc">Modificateur d'attaque.</div><div class="ttdef"><b>Definition:</b> <a href="equipements_manager_8h_source.html#l00051">equipementsManager.h:51</a></div></div>
<div class="ttc" id="astructt__stats_html_aa0551fe442ecebd0432bed6f9121808a"><div class="ttname"><a href="structt__stats.html#aa0551fe442ecebd0432bed6f9121808a">t_stats::healthMax</a></div><div class="ttdeci">t_statModifier healthMax</div><div class="ttdoc">Modificateur de points de vie maximum.</div><div class="ttdef"><b>Definition:</b> <a href="equipements_manager_8h_source.html#l00050">equipementsManager.h:50</a></div></div>
<div class="ttc" id="astructt__stats_html_ac7dbb58a120cdcb731b53fe170f0a859"><div class="ttname"><a href="structt__stats.html#ac7dbb58a120cdcb731b53fe170f0a859">t_stats::speed</a></div><div class="ttdeci">t_statModifier speed</div><div class="ttdoc">Modificateur de vitesse.</div><div class="ttdef"><b>Definition:</b> <a href="equipements_manager_8h_source.html#l00053">equipementsManager.h:53</a></div></div>
<div class="ttc" id="astructt__stats_html_af43ec2aac2c1efbda714f834a7d0fee1"><div class="ttname"><a href="structt__stats.html#af43ec2aac2c1efbda714f834a7d0fee1">t_stats::defense</a></div><div class="ttdeci">t_statModifier defense</div><div class="ttdoc">Modificateur de défense.</div><div class="ttdef"><b>Definition:</b> <a href="equipements_manager_8h_source.html#l00052">equipementsManager.h:52</a></div></div>
<div class="ttc" id="astructt__tileset_html"><div class="ttname"><a href="structt__tileset.html">t_tileset</a></div><div class="ttdoc">Représente un ensemble de tuiles utilisées pour construire les niveaux.</div><div class="ttdef"><b>Definition:</b> <a href="tileset_8h_source.html#l00018">tileset.h:18</a></div></div>
<div class="ttc" id="astructt__tileset_html_a2c9868664be34167c1ffd0ba47949c77"><div class="ttname"><a href="structt__tileset.html#a2c9868664be34167c1ffd0ba47949c77">t_tileset::textureTiles</a></div><div class="ttdeci">t_objectManager * textureTiles</div><div class="ttdoc">Gestionnaire des textures des tuiles.</div><div class="ttdef"><b>Definition:</b> <a href="tileset_8h_source.html#l00022">tileset.h:22</a></div></div>
<div class="ttc" id="astructt__view_port_html"><div class="ttname"><a href="structt__view_port.html">t_viewPort</a></div><div class="ttdoc">Lie une caméra à une texture de rendu et une zone d'affichage écran.</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00040">camera.h:40</a></div></div>
<div class="ttc" id="atimer_8c_html_a425192221cbecd593f3a398c14c18def"><div class="ttname"><a href="timer_8c.html#a425192221cbecd593f3a398c14c18def">getTicks</a></div><div class="ttdeci">Uint32 getTicks(t_timer *timer)</div><div class="ttdoc">Récupère le temps écoulé depuis le démarrage du timer.</div><div class="ttdef"><b>Definition:</b> <a href="timer_8c_source.html#l00017">timer.c:17</a></div></div>
<div class="ttc" id="atimer_8c_html_a7d157e28b7dc56888e25fb39a8da9776"><div class="ttname"><a href="timer_8c.html#a7d157e28b7dc56888e25fb39a8da9776">startTimer</a></div><div class="ttdeci">void startTimer(t_timer *timer)</div><div class="ttdoc">Démarre le timer.</div><div class="ttdef"><b>Definition:</b> <a href="timer_8c_source.html#l00012">timer.c:12</a></div></div>
<div class="ttc" id="atimer_8c_html_aa6a4620337b2d374bffb66ac27b96efe"><div class="ttname"><a href="timer_8c.html#aa6a4620337b2d374bffb66ac27b96efe">getDeltaTimer</a></div><div class="ttdeci">float getDeltaTimer(t_deltaTimer *timer)</div><div class="ttdoc">Récupère le temps accumulé par le timer delta.</div><div class="ttdef"><b>Definition:</b> <a href="timer_8c_source.html#l00056">timer.c:56</a></div></div>
<div class="ttc" id="atimer_8c_html_aecdaaaeb2277a6a97e620e7c19422dc2"><div class="ttname"><a href="timer_8c.html#aecdaaaeb2277a6a97e620e7c19422dc2">initTimer</a></div><div class="ttdeci">t_timer * initTimer()</div><div class="ttdoc">Initialise un nouveau timer.</div><div class="ttdef"><b>Definition:</b> <a href="timer_8c_source.html#l00005">timer.c:5</a></div></div>
<div class="ttc" id="aweapon_8c_html_a009bd4a508cff4e6e45bec4591379aab"><div class="ttname"><a href="weapon_8c.html#a009bd4a508cff4e6e45bec4591379aab">renderWeaponRangeUI</a></div><div class="ttdeci">void renderWeaponRangeUI(SDL_Renderer *renderer, t_joueur *player)</div><div class="ttdoc">Affiche l'indicateur de portée de l'arme dans l'interface.</div><div class="ttdef"><b>Definition:</b> <a href="weapon_8c_source.html#l00007">weapon.c:7</a></div></div>
<div class="ttc" id="aweapon_8c_html_a48d647ca61cdab6aee094d0420874f9e"><div class="ttname"><a href="weapon_8c.html#a48d647ca61cdab6aee094d0420874f9e">calculateWeaponScale</a></div><div class="ttdeci">float calculateWeaponScale(t_joueur *player)</div><div class="ttdoc">Calcule l'échelle de l'arme en fonction des attributs du joueur.</div><div class="ttdef"><b>Definition:</b> <a href="weapon_8c_source.html#l00076">weapon.c:76</a></div></div>
<div class="ttc" id="aweapon_8c_html_a5d53a807540e29196d6a6626c870ece5"><div class="ttname"><a href="weapon_8c.html#a5d53a807540e29196d6a6626c870ece5">renderWeaponIdle</a></div><div class="ttdeci">void renderWeaponIdle(SDL_Renderer *renderer, t_joueur *player, SDL_FPoint origin, SDL_Point pivotPoint, int scaledWidth, int scaledHeight, SDL_RendererFlip weaponFlip)</div><div class="ttdoc">Affiche l'arme en position de repos.</div><div class="ttdef"><b>Definition:</b> <a href="weapon_8c_source.html#l00220">weapon.c:220</a></div></div>
<div class="ttc" id="aweapon_8c_html_ad7e876fe31beedb31fd0e933a5061c09"><div class="ttname"><a href="weapon_8c.html#ad7e876fe31beedb31fd0e933a5061c09">renderAttackConeDebug</a></div><div class="ttdeci">void renderAttackConeDebug(t_joueur *player)</div><div class="ttdoc">Affiche un cône de débogage pour visualiser la zone d'attaque.</div><div class="ttdef"><b>Definition:</b> <a href="weapon_8c_source.html#l00062">weapon.c:62</a></div></div>
<div class="ttc" id="aweapon_8c_html_af96a799be749a80ec78faad1a28bc755"><div class="ttname"><a href="weapon_8c.html#af96a799be749a80ec78faad1a28bc755">renderWeaponDuringAttack</a></div><div class="ttdeci">void renderWeaponDuringAttack(SDL_Renderer *renderer, t_joueur *player, SDL_FPoint origin, SDL_Point pivotPoint, int scaledWidth, int scaledHeight, SDL_RendererFlip weaponFlip)</div><div class="ttdoc">Affiche l'arme pendant une attaque.</div><div class="ttdef"><b>Definition:</b> <a href="weapon_8c_source.html#l00091">weapon.c:91</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
